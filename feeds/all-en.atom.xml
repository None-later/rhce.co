<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>rhce.co</title><link href="http://rhce.co/" rel="alternate"></link><link href="http://rhce.co/feeds/all-en.atom.xml" rel="self"></link><id>http://rhce.co/</id><updated>2012-10-06T00:00:00+02:00</updated><entry><title>Access a shell prompt and issue commands with correct syntax</title><link href="http://rhce.co/access-a-shell-prompt-and-issue-commands-with-correct-syntax.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:access-a-shell-prompt-and-issue-commands-with-correct-syntax.html</id><summary type="html">&lt;p&gt;This is first requirement should stop anyone who may not know, or may have never used a shell prompt from attempting the test. If you can open your terminal, navigate and type commands then you have accomplished this. If not, then you should check out the basics and start there.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://beginlinux.com/"&gt;http://beginlinux.com/&lt;/a&gt; is a great place to start.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Access a virtual machine's console</title><link href="http://rhce.co/access-a-virtual-machines-console.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:access-a-virtual-machines-console.html</id><summary type="html">&lt;p&gt;Knowing how to access the virtual machines console is essential, and if you have never used it could take a few minutes to figure out. &lt;/p&gt;
&lt;p&gt;There are two ways to pull it up, one from the gui menu in on the desktop, and the other with the following command in terminal:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;virt-manager
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="Virt Manager" src="http://virt-manager.et.redhat.com/screenshots/manager-summary.png" /&gt;&lt;/p&gt;
&lt;p&gt;For images of what it looks like, if you have never seen it, check out Red Hat's website on the Virtual Machine Manager. Its fairly straightforward.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://virt-manager.et.redhat.com/index.html"&gt;http://virt-manager.et.redhat.com/index.html&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Add new partitions, logical volumes and swap to a system non-destructively</title><link href="http://rhce.co/add-new-partitions-logical-volumes-and-swap-to-a-system-non-destructively.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:add-new-partitions-logical-volumes-and-swap-to-a-system-non-destructively.html</id><summary type="html">&lt;p&gt;During the RHCSA / RHCE you may be asked to create new partitions on an already running system. This requires that you do so as not to disturb the already existing file systems, otherwise you may be reformatting halfway through the exam. &lt;/p&gt;
&lt;h1&gt;Add new partitions&lt;/h1&gt;
&lt;p&gt;Adding new partitions is fairly straightforward using tools like fdisk or parted. We will be using fdisk for this objective. &lt;/p&gt;
&lt;p&gt;First step is to open the device that we want to make the partition on. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; fdisk -cu /dev/sdb 
Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel
Building a new DOS disklabel with disk identifier 0x110ea9fa.
Changes will remain in memory only, &lt;span class="k"&gt;until &lt;/span&gt;you decide to write them.
After that, of course, the previous content won&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;t be recoverable.

Warning: invalid flag 0x0000 of partition table 4 will be corrected by w&lt;span class="o"&gt;(&lt;/span&gt;rite&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You generally want to print the current partition table on the device with the p command&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 2147 MB, 2147483648 bytes
255 heads, 63 sectors/track, 261 cylinders, total 4194304 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0x110ea9fa

Device Boot      Start         End      Blocks   Id  System
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If nothing shows up under the list of devices, then there are no partitions. To make the first partition we will use the n command, for new. Then follow the prompts to create the new partition. Here we are making a 50MB partition.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
p
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;: 1
First sector &lt;span class="o"&gt;(&lt;/span&gt;2048-4194303, default 2048&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 2048
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;2048-4194303, default 4194303&lt;span class="o"&gt;)&lt;/span&gt;: +50M
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once you've created the partition its a good idea to print the partition table. Once you are happy with the changes, write them to the disk with the w command. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 2147 MB, 2147483648 bytes
255 heads, 63 sectors/track, 261 cylinders, total 4194304 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0x110ea9fa

Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048      104447       51200   83  Linux

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Add new logical volumes&lt;/h1&gt;
&lt;p&gt;To add a new logical volume you first need to create a new partition and set it to type Linux LVM.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; fdisk -cu /dev/sdb

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 2147 MB, 2147483648 bytes
255 heads, 63 sectors/track, 261 cylinders, total 4194304 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0x110ea9fa

Device Boot      Start         End      Blocks   Id  System

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
p
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;: 1
First sector &lt;span class="o"&gt;(&lt;/span&gt;2048-4194303, default 2048&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 2048
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;2048-4194303, default 4194303&lt;span class="o"&gt;)&lt;/span&gt;: +50M


Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: t
Selected partition 1
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: L

0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris        
1  FAT12           39  Plan 9          82  Linux swap / So c1  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
2  XENIX root      3c  PartitionMagic  83  Linux           c4  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
3  XENIX usr       40  Venix 80286     84  OS/2 hidden C:  c6  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
4  FAT16 &amp;lt;32M      41  PPC PReP Boot   85  Linux extended  c7  Syrinx         
5  Extended        42  SFS             86  NTFS volume &lt;span class="nb"&gt;set &lt;/span&gt;da  Non-FS data    
6  FAT16           4d  QNX4.x          87  NTFS volume &lt;span class="nb"&gt;set &lt;/span&gt;db  CP/M / CTOS / .
7  HPFS/NTFS       4e  QNX4.x 2nd part 88  Linux plaintext de  Dell Utility   
8  AIX             4f  QNX4.x 3rd part 8e  Linux LVM       df  BootIt         
9  AIX bootable    50  OnTrack DM      93  Amoeba          e1  DOS access     
a  OS/2 Boot Manag 51  OnTrack DM6 Aux 94  Amoeba BBT      e3  DOS R/O        
b  W95 FAT32       52  CP/M            9f  BSD/OS          e4  SpeedStor      
c  W95 FAT32 &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 53  OnTrack DM6 Aux a0  IBM Thinkpad hi eb  BeOS fs        
e  W95 FAT16 &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 54  OnTrackDM6      a5  FreeBSD         ee  GPT            
f  W95 Ext&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;d &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 55  EZ-Drive        a6  OpenBSD         ef  EFI &lt;span class="o"&gt;(&lt;/span&gt;FAT-12/16/
10  OPUS            56  Golden Bow      a7  NeXTSTEP        f0  Linux/PA-RISC b
11  Hidden FAT12    5c  Priam Edisk     a8  Darwin UFS      f1  SpeedStor      
12  Compaq diagnost 61  SpeedStor       a9  NetBSD          f4  SpeedStor      
14  Hidden FAT16 &amp;lt;3 63  GNU HURD or Sys ab  Darwin boot     f2  DOS secondary  
16  Hidden FAT16    64  Novell Netware  af  HFS / HFS+      fb  VMware VMFS    
17  Hidden HPFS/NTF 65  Novell Netware  b7  BSDI fs         &lt;span class="nb"&gt;fc  &lt;/span&gt;VMware VMKCORE 
18  AST SmartSleep  70  DiskSecure Mult b8  BSDI swap       fd  Linux raid auto
1b  Hidden W95 FAT3 75  PC/IX           bb  Boot Wizard hid fe  LANstep        
1c  Hidden W95 FAT3 80  Old Minix       be  Solaris boot    ff  BBT            
1e  Hidden W95 FAT1
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: 8e
Changed system &lt;span class="nb"&gt;type &lt;/span&gt;of partition 1 to 8e &lt;span class="o"&gt;(&lt;/span&gt;Linux LVM&lt;span class="o"&gt;)&lt;/span&gt;

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 2147 MB, 2147483648 bytes
255 heads, 63 sectors/track, 261 cylinders, total 4194304 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0x110ea9fa

Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048      104447       51200   8e  Linux LVM

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once you create the partition as Linux LVM type you can now create a physical volume with that partition. Keep in mind we are using small partitions in order to get the concept across, in real life these would be entire disks being added as physical volumes. &lt;/p&gt;
&lt;p&gt;To create a physical volume we use pvcreate:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; pvcreate /dev/sdb1 physicalvol1
Physical volume &lt;span class="s2"&gt;&amp;quot;/dev/sdb1&amp;quot;&lt;/span&gt; successfully created

~&lt;span class="o"&gt;]&lt;/span&gt; pvdisplay

&lt;span class="s2"&gt;&amp;quot;/dev/sdb1&amp;quot;&lt;/span&gt; is a new physical volume of &lt;span class="s2"&gt;&amp;quot;50.00 MiB&amp;quot;&lt;/span&gt;
--- NEW Physical volume ---
PV Name               /dev/sdb1
VG Name               
PV Size               50.00 MiB
Allocatable           NO
PE Size               0   
Total PE              0
Free PE               0
Allocated PE          0
PV UUID               ysMMtz-jYei-tNph-tvSU-3sSy-vemf-sjWxbO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we have to create the volume group and add the physical volume to it. We can do this with the vgcreate command. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vgcreate MyNewVolGroup /dev/sdb1
Volume group &lt;span class="s2"&gt;&amp;quot;MyNewVolGroup&amp;quot;&lt;/span&gt; successfully created
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now that we have a physical volume, and its part of a volume group, so we can make a logical volume. To create a logical volume named LogVol1 from the volume group MyNewVolGroup we would use the following command. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvcreate -L 28M -n LogVol1 MyNewVolGroup
Logical volume &lt;span class="s2"&gt;&amp;quot;LogVol1&amp;quot;&lt;/span&gt; created
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now there is a lovical volume named "LogVol1" that is a part of MyNewVolGroup"&lt;/p&gt;
&lt;h1&gt;Add new swap partition&lt;/h1&gt;
&lt;p&gt;Adding a swap partition is like adding any other partition, just changing his type to Linux Swap.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; fdisk -cu /dev/sdb

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
p
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;: 2
First sector &lt;span class="o"&gt;(&lt;/span&gt;104448-4194303, default 104448&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 104448
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;104448-4194303, default 4194303&lt;span class="o"&gt;)&lt;/span&gt;: +50M

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: t
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;: 2
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: 82
Changed system &lt;span class="nb"&gt;type &lt;/span&gt;of partition 2 to 82 &lt;span class="o"&gt;(&lt;/span&gt;Linux swap / Solaris&lt;span class="o"&gt;)&lt;/span&gt;

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 2147 MB, 2147483648 bytes
128 heads, 57 sectors/track, 574 cylinders, total 4194304 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0x110ea9fa

Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048      104447       51200   8e  Linux LVM
/dev/sdb2          104448      206847       51200   82  Linux swap / Solaris

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To activate a swap partion.  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkswap /dev/sdb2

~&lt;span class="o"&gt;]&lt;/span&gt; swapon -v /dev/sdb2
swapon on /dev/sdb2
swapon: /dev/sdb2: found swap signature: version 1, page-size 4, same byte order
swapon: /dev/sdb2: &lt;span class="nv"&gt;pagesize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;4096, &lt;span class="nv"&gt;swapsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;52428800, &lt;span class="nv"&gt;devsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;52428800
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Confirm that the swap was added. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; swapon -s
Filename               Type        Size    Used    Priority
/dev/dm-1                               partition  1015800 0   -1
/dev/sdb2                               partition  51192   0   -2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Also you have to edit &lt;em&gt;/etc/fstab&lt;/em&gt; file to reflect your changes at system boot-up.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Archive, compress, unpack and uncompress files using tar, star, gzip, and bzip2</title><link href="http://rhce.co/archive-compress-unpack-and-uncompress-files-using-tar-star-gzip-and-bzip2.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:archive-compress-unpack-and-uncompress-files-using-tar-star-gzip-and-bzip2.html</id><summary type="html">&lt;h1&gt;tar&lt;/h1&gt;
&lt;p&gt;Create a tar file from a folder called test1:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;tar cvf test1.tar test1
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;c = create&lt;/li&gt;
&lt;li&gt;v = verbose&lt;/li&gt;
&lt;li&gt;f = file&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Extract test1.tar&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;tar xvf test1.tar
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;x = extract&lt;/li&gt;
&lt;li&gt;v = verbose&lt;/li&gt;
&lt;li&gt;f = file&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;List contents of tar archive&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;tar tf test1.tar
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;star&lt;/h1&gt;
&lt;p&gt;Man page for star: &lt;a href="http://linux.die.net/man/1/star"&gt;star&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;gzip&lt;/h1&gt;
&lt;p&gt;This is most commonly used in combination with tar, using the z switch. Tar itself does not compress, it just packs. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;tar cvzf test1.tar.gz test1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Although it can be used by itself&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;gzip test1
&lt;span class="nv"&gt;$ &lt;/span&gt;gunzip test1.gz
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;{: .note }&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Note that this does not preserve the .gz file, it extracts it and removes it.&lt;/strong&gt; &lt;/p&gt;
&lt;/blockquote&gt;
&lt;h1&gt;bzip2&lt;/h1&gt;
&lt;p&gt;bzip2 uses a different algorithm to compress files than the other tools, but very similar options&lt;/p&gt;
&lt;p&gt;Create a bzip2 file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;bzip2 test1
&lt;span class="c"&gt;# note that this does not preserve the original file(s),&lt;/span&gt;
&lt;span class="c"&gt;# it will compress and delete the uncompressed version&lt;/span&gt;
&lt;span class="c"&gt;# also does not compress directories, only files.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Check out the man page: &lt;a href="http://bzip.org/1.0.5/bzip2.txt"&gt;bzip2&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Boot, reboot, and shut down a system normally</title><link href="http://rhce.co/boot-reboot-and-shut-down-a-system-normally.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:boot-reboot-and-shut-down-a-system-normally.html</id><summary type="html">&lt;p&gt;Basically, they are referring to these actions on the command line. I'm sure everyone is able to do this on a pc, but not necessarily a live Red Hat Enterprise Linux Server remotely. &lt;/p&gt;
&lt;p&gt;The commands are simple for the server. &lt;/p&gt;
&lt;p&gt;Normal reboot&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo reboot
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Another way&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo shutdown -r now
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Changing to init 6 will reboot as well, which is what init 6 does. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo init 6
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;On the same note, init 0 calls all of the shutdown scripts and gracefully shuts down your machine.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo init 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Surprisingly you can also use the shutdown command to shutdown completely by using the -h switch.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo shutdown -h
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I think we all know how to boot the computer, so that shouldn't be a problem. :-)&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Boot systems into different runlevels manually</title><link href="http://rhce.co/boot-systems-into-different-runlevels-manually.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:boot-systems-into-different-runlevels-manually.html</id><summary type="html">&lt;p&gt;Red Hat Enterprise Linux is similar to most other linux distributions in its core functionality. The ability to run the operating system in multiple run levels is an important skill to have. &lt;/p&gt;
&lt;p&gt;If you type into your terminal:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;runlevel
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;you should see a number as the output. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;N 3
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is the runlevel my server was running at the time this was written. &lt;/p&gt;
&lt;p&gt;There are 6 runlevels:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Runlevel 0 - Halt&lt;/li&gt;
&lt;li&gt;Runlevel 1 - Single User mode. Most services turned off, including networking. Used to perform maintenance on the server usually. Boots logged into roots account, no  password.&lt;/li&gt;
&lt;li&gt;Runlevel 2 - This is basic functions, multi-user mode, without any networking. &lt;/li&gt;
&lt;li&gt;Runlevel 3 - This is what servers usually run in, as it provides all of the services of the normal server, without the graphical user interface.&lt;/li&gt;
&lt;li&gt;Runlevel 4 - Doesn't really get used. &lt;/li&gt;
&lt;li&gt;Runlevel 5 - This provides the same functions of runlevel 3, along with services to allow for desktop functionality (graphical user interface). &lt;/li&gt;
&lt;li&gt;Runlevel 6 - Reboot&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The command to jump runlevels is actually really easy. Just type init followed by the runlevel you want to switch into. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;init 1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The above command would turn off most services and drop you into single user mode.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Change passwords and adjust password aging for local user accounts</title><link href="http://rhce.co/change-passwords-and-adjust-password-aging-for-local-user-accounts.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:change-passwords-and-adjust-password-aging-for-local-user-accounts.html</id><summary type="html">&lt;p&gt;The utility used for password aging is chage. As with most unix tools, its name sounds like a short lazy of saying the action... in this case, "change age".&lt;/p&gt;
&lt;p&gt;The switches are everything here, and unless you use this all the time, the man page will be in order here. For now, here are the options:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="na"&gt;-m&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;days&lt;/span&gt;   &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;minimum&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nx"&gt;between&lt;/span&gt; &lt;span class="nx"&gt;which&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nb"&gt;user&lt;/span&gt; &lt;span class="nx"&gt;must&lt;/span&gt; &lt;span class="nx"&gt;change&lt;/span&gt; &lt;span class="nx"&gt;passwords.&lt;/span&gt; &lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nb"&gt;value&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;does&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nx"&gt;expire.&lt;/span&gt;
&lt;span class="na"&gt;-M&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;days&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;maximum&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nb"&gt;for&lt;/span&gt; &lt;span class="nx"&gt;which&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="nx"&gt;valid.&lt;/span&gt; &lt;span class="nx"&gt;When&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nb"&gt;specified&lt;/span&gt; &lt;span class="k"&gt;by&lt;/span&gt; &lt;span class="nx"&gt;this&lt;/span&gt; &lt;span class="nb"&gt;option&lt;/span&gt; &lt;span class="nx"&gt;plus&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nb"&gt;specified&lt;/span&gt; &lt;span class="k"&gt;with&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="na"&gt;-d&lt;/span&gt; &lt;span class="nb"&gt;option&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="nx"&gt;less&lt;/span&gt; &lt;span class="nx"&gt;than&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;current&lt;/span&gt; &lt;span class="nb"&gt;day&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nb"&gt;user&lt;/span&gt; &lt;span class="nx"&gt;must&lt;/span&gt; &lt;span class="nx"&gt;change&lt;/span&gt; &lt;span class="nx"&gt;passwords&lt;/span&gt; &lt;span class="nx"&gt;before&lt;/span&gt; &lt;span class="nx"&gt;using&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;account.&lt;/span&gt;
&lt;span class="na"&gt;-d&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;days&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nx"&gt;since&lt;/span&gt; &lt;span class="nx"&gt;January&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1970&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;was&lt;/span&gt; &lt;span class="nx"&gt;changed&lt;/span&gt;
&lt;span class="na"&gt;-I&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;days&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nx"&gt;inactive&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nx"&gt;after&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;expiration&lt;/span&gt; &lt;span class="nx"&gt;before&lt;/span&gt; &lt;span class="nx"&gt;locking&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;account.&lt;/span&gt; &lt;span class="k"&gt;If&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nb"&gt;value&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;account&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nx"&gt;locked&lt;/span&gt; &lt;span class="nx"&gt;after&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;expires.&lt;/span&gt;
&lt;span class="na"&gt;-E&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="kt"&gt;date&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="kt"&gt;date&lt;/span&gt; &lt;span class="k"&gt;on&lt;/span&gt; &lt;span class="nx"&gt;which&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;account&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="nx"&gt;locked&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="k"&gt;in&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nb"&gt;format&lt;/span&gt; &lt;span class="nx"&gt;YYYY&lt;/span&gt;&lt;span class="na"&gt;-MM-DD.&lt;/span&gt; &lt;span class="nx"&gt;Instead&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="kt"&gt;date&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nx"&gt;since&lt;/span&gt; &lt;span class="nx"&gt;January&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1970&lt;/span&gt; &lt;span class="nx"&gt;can&lt;/span&gt; &lt;span class="nx"&gt;also&lt;/span&gt; &lt;span class="nx"&gt;be&lt;/span&gt; &lt;span class="nx"&gt;used.&lt;/span&gt;
&lt;span class="na"&gt;-W&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nb"&gt;days&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;  &lt;span class="nx"&gt;Specifies&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;number&lt;/span&gt; &lt;span class="nx"&gt;of&lt;/span&gt; &lt;span class="nb"&gt;days&lt;/span&gt; &lt;span class="nx"&gt;before&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;password&lt;/span&gt; &lt;span class="nx"&gt;expiration&lt;/span&gt; &lt;span class="kt"&gt;date&lt;/span&gt; &lt;span class="k"&gt;to&lt;/span&gt; &lt;span class="nx"&gt;warn&lt;/span&gt; &lt;span class="nx"&gt;the&lt;/span&gt; &lt;span class="nx"&gt;user.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Examples:&lt;/p&gt;
&lt;p&gt;List a users passowrd expiration info&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chage --list username
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Set an expiration based on a maximum number of days for which the password should be valid.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chage -M 120 username
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To only allow a user to change their password every 10 days, and no more&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chage -m 10 username
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Apply immediate expiration&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chage -d 0 username
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure a physical machine to host virtual guests</title><link href="http://rhce.co/configure-a-physical-machine-to-host-virtual-guests.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-a-physical-machine-to-host-virtual-guests.html</id><summary type="html">&lt;p&gt;A default RHEL 6 system should come prepared to host virtual guests, minus the packages. In RHEL5 you had to make sure that you were running the xen kernel, which would require installing and booting into that kernel. RHEL 6 is simple, if it Virtualization is not installed, install it. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; yum groupinstall &lt;span class="s2"&gt;&amp;quot;Virtualization&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That will install everything needed to run virtual guests on RHEL 6. Easy huh?&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure a system to run a default configuration FTP server</title><link href="http://rhce.co/configure-a-system-to-run-a-default-configuration-ftp-server.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-a-system-to-run-a-default-configuration-ftp-server.html</id><summary type="html">&lt;h1&gt;FTP&lt;/h1&gt;
&lt;p&gt;vsftpd installs with a default configuration that works for this requirement. So a basic:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; yum install vsftpd

~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig vsftpd on
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will get your default server up and running. But what about firewall and selinux?&lt;/p&gt;
&lt;h1&gt;Iptables&lt;/h1&gt;
&lt;p&gt;For iptables you want to open up port 20 and 21, to allow ftp requests in. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; iptables -I INPUT 5 -p tcp -m tcp --dport 20 -j ACCEPT

~&lt;span class="o"&gt;]&lt;/span&gt; iptables -I INPUT 5 -p tcp -m tcp --dport 21 -j ACCEPT
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then remember to always save your iptables rules so they survive a reboot. &lt;/p&gt;
&lt;h1&gt;Selinux&lt;/h1&gt;
&lt;p&gt;SELinux is now a part of the exams, so you have to know how to apply the correct context to the directories that will be used by vsftpd.&lt;/p&gt;
&lt;p&gt;Here's a tip: All this information is stored in man pages, so rather than memorizing, use the resources available. If you search for _selinux, then all services that have information on how to be configured with SELinux will show up. To search the man pages use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; man -k _selinux
ftpd_selinux         &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - Security-Enhanced Linux policy &lt;span class="k"&gt;for &lt;/span&gt;ftp daemons

~&lt;span class="o"&gt;]&lt;/span&gt; man ftpd_selinux
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To make a ftp server's content available you can see it says to run the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;semanage&lt;/span&gt; &lt;span class="n"&gt;fcontext&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt; &lt;span class="kt"&gt;public_content_t&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/var/ftp(/.*)?&amp;quot;&lt;/span&gt;

&lt;span class="n"&gt;restorecon&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;F&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ftp&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thats it. As long as you can install the application, vsftpd, open the correct ports in iptables, and set context in SELinux, then you are good to go on this objective.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure a system to run a default configuration HTTP server</title><link href="http://rhce.co/configure-a-system-to-run-a-default-configuration-http-server.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-a-system-to-run-a-default-configuration-http-server.html</id><summary type="html">&lt;p&gt;Installing apache via yum on Red Hat Enterprise Linux 6 does most of the setup for you. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  yum install httpd

:::bash
~&lt;span class="o"&gt;]&lt;/span&gt;  service httpd start
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now if you try to visit the main ip or domain of the server, you may run into an issue getting to the site. Whenever you enable a network service like a web server, you also have to allow the outside to use that service. We have to add an entry into iptables.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  iptables -A INPUT -p tcp -m tcp --dport 80 -j ACCEPT
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This would add an entry into iptables, but to survive a reboot we would have to save this.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  service iptables save
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now an easier way of doing this, is to use system-config-firewall, which is the gui/tui tool to configure a firewall. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  system-config-firewall
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This may not make things perfect, but it can definitely give you a jump start to molding rules on an exam. &lt;/p&gt;
&lt;p&gt;&lt;em&gt;Tip: it may not be installed by default.&lt;/em&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure a system to use an existing LDAP directory service for user and group information</title><link href="http://rhce.co/configure-a-system-to-use-an-existing-ldap-directory-service-for-user-and-group-information.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-a-system-to-use-an-existing-ldap-directory-service-for-user-and-group-information.html</id><summary type="html">&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  yum -y install openldap-clients system-config-authentication

~&lt;span class="o"&gt;]&lt;/span&gt;  system-config-authentication
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Check enable ldap support. Then configure should open up a windows that allows you to just add the ldap info, and be done. Not much too this objective, seeming as you only have to be able to connect and authenticate.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure firewall settings using system-config-firewall or iptables</title><link href="http://rhce.co/configure-firewall-settings-using-system-config-firewall-or-iptables.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-firewall-settings-using-system-config-firewall-or-iptables.html</id><summary type="html">&lt;p&gt;&lt;em&gt;&lt;code&gt;system-config-firewall&lt;/code&gt;&lt;/em&gt; is a good way to get rules up quick. But if you are not intimately familiar with the way the rules work, you may not be able to tweak them to the specifications on the exam, and end up in trouble.&lt;/p&gt;
&lt;p&gt;Iptables is a big topic, and no way I could cover it on this page, nor would I need to. Here is a good page on the Centos Wiki that goes through iptables on a RHEL-based system in great detail.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://wiki.centos.org/HowTos/Network/IPTables"&gt;http://wiki.centos.org/HowTos/Network/IPTables&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure network services to start automatically at boot</title><link href="http://rhce.co/configure-network-services-to-start-automatically-at-boot.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-network-services-to-start-automatically-at-boot.html</id><summary type="html">&lt;p&gt;You could setup every service perfectly, with all the correct settings, but if they do not start at boot, it will all have been in vain. Starting services at boot is critical in the exam, as well as in real life. Luckily this is made very simple with Red Hat Enterprise Linux 6, and prior versions. &lt;/p&gt;
&lt;p&gt;To control network services behaviour on boot, the tool to use is '''chkconfig'''&lt;/p&gt;
&lt;p&gt;These are best run while root or using sudo. Here I assume you are root. Here we check to see the status of httpd (apache). &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig --list | grep httpd
httpd              0:off   1:off   2:on    3:on    4:on    5:on    6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here we see six colums, one for each runlevel. Most common runlevels are 2-5, which we can see are on. If we want to turn that off, we would run the following:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig httpd off
~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig --list | grep httpd
httpd              0:off   1:off   2:off   3:off   4:off   5:off   6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we can see they are off. This means if I reboot my machine, httpd will not automatically start on boot. To turn this back on for the common runlevels, just run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig httpd on
~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig --list | grep httpd
httpd              0:off   1:off   2:on    3:on    4:on    5:on    6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can also specify only certain runlevels such as runlevel 3. Which is used for most web servers. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig --level 3 httpd on
~&lt;span class="o"&gt;]&lt;/span&gt; chkconfig --list | grep http
httpd              0:off   1:off   2:off   3:on    4:off   5:off   6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So make sure you double check the service that you are depending on, both on exam day and real life.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure networking and hostname resolution statically or dynamically</title><link href="http://rhce.co/configure-networking-and-hostname-resolution-statically-or-dynamically.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-networking-and-hostname-resolution-statically-or-dynamically.html</id><summary type="html">&lt;h1&gt;Configure networking&lt;/h1&gt;
&lt;p&gt;Networking is a big part of the RHCSA and RHCE. If you aren't super comfortable with configuring networking via network config files, then its probably a good idea to use the network management tools available. &lt;/p&gt;
&lt;p&gt;In Red Hat Enterprise Linux you can type "setup" at the command line. This will open up the Text Mode Setup Utility, which allows you to configure network, firewall, athentication, keyboard, RHN, and System Services. &lt;/p&gt;
&lt;p&gt;If you do venture into the networking configuration files, these are the important ones:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/etc/hosts&lt;/code&gt;                                 The static table lookup for hostnames&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/resolv.conf&lt;/code&gt;                           The resolver configuration file&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/sysconfig/network&lt;/code&gt;                     Contains hostname setting&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/sysconfig/network-scripts/ifcfg-eth0&lt;/code&gt;  The first network device configuration&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;These are files that will be essential to know about during the exam if you are altering config files. &lt;/p&gt;
&lt;p&gt;There will no doubt be some need to configure networks during the RHCSA and RHCE, so either way be prepared to fix network connections. &lt;/p&gt;
&lt;h1&gt;Configuring the hostname&lt;/h1&gt;
&lt;p&gt;Configuring the hostname can be done in the /etc/sysconfig/network file. Edit this file with the updated hostname and then on reboot, the new hostname will be reflected.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vim /etc/sysconfig/network
&lt;span class="nv"&gt;NETWORKING&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;yes
&lt;span class="nv"&gt;HOSTNAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;rhel-01
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure systems to boot into a specific runlevel automatically</title><link href="http://rhce.co/configure-systems-to-boot-into-a-specific-runlevel-automatically.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-systems-to-boot-into-a-specific-runlevel-automatically.html</id><summary type="html">&lt;p&gt;Depending on what the system running Red Hat Enterprise Linux 6 is going to be used for, you will want it to boot into the appropriate runlevel. &lt;/p&gt;
&lt;p&gt;This was already covered on this page: &lt;a href="http://rhce.co/rhel6/Boot_systems_into_different_runlevels_manually"&gt;http://rhce.co/rhel6/Boot_systems_into_different_runlevels_manually&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Configure system to boot into a runlevel automatically&lt;/h1&gt;
&lt;p&gt;The file that controls the runlevel that a system boots into is the /etc/inittab.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;# Default runlevel. The runlevels used are:&lt;/span&gt;
&lt;span class="cp"&gt;#   0 - halt (Do NOT set initdefault to this)&lt;/span&gt;
&lt;span class="cp"&gt;#   1 - Single user mode&lt;/span&gt;
&lt;span class="cp"&gt;#   2 - Multiuser, without NFS (The same as 3, if you do not have networking)&lt;/span&gt;
&lt;span class="cp"&gt;#   3 - Full multiuser mode&lt;/span&gt;
&lt;span class="cp"&gt;#   4 - unused&lt;/span&gt;
&lt;span class="cp"&gt;#   5 - X11&lt;/span&gt;
&lt;span class="cp"&gt;#   6 - reboot (Do NOT set initdefault to this)&lt;/span&gt;
&lt;span class="cp"&gt;# &lt;/span&gt;
&lt;span class="nl"&gt;id:&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;initdefault&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In this case the default runlevel that this system will boot into is runlevel 5. Make note of what not to do. As noted above, do not set the default runlevel to 0 or 6, which is shutdown and reboot, for obvious reasons.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure systems to launch virtual machines at boot</title><link href="http://rhce.co/configure-systems-to-launch-virtual-machines-at-boot.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-systems-to-launch-virtual-machines-at-boot.html</id><summary type="html">&lt;p&gt;The virsh command is the command line utility, and the quickest way to accomplish this. But you always to have the option of messing around with the GUI, in case you forget this. &lt;/p&gt;
&lt;h2&gt;To start a vm type:&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; virsh start machninename01
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;To shutdown:&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; virsh shutdown machninename01
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;To destroy&lt;/h2&gt;
&lt;p&gt;This actually just means to bring the machine hard down, like pulling the plug on it. Not deleting it.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; virsh destroy machninename01
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;To gain access to a virtual console:&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; virsh console machninename01
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;To congifure the machine to launch at boot (autostart the virsh server):&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; virsh autostart machninename01
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure systems to mount ext4, LUKS-encrypted and network file systems automatically</title><link href="http://rhce.co/configure-systems-to-mount-ext4-luks-encrypted-and-network-file-systems-automatically.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-systems-to-mount-ext4-luks-encrypted-and-network-file-systems-automatically.html</id><summary type="html">&lt;p&gt;Filesystems can be automatically mounted via path or UUID in the /etc/fstab file. &lt;/p&gt;
&lt;h1&gt;Mount filesystems automatically&lt;/h1&gt;
&lt;p&gt;Via device:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sda1&lt;/span&gt;   &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mountpoint&lt;/span&gt;    &lt;span class="n"&gt;ext4&lt;/span&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt;    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Via filepath:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;filesystem&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mountpoint&lt;/span&gt; &lt;span class="n"&gt;ext4&lt;/span&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt;    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Below are explainations of the fstab columns, right from the man page.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The first field (fs_spec)    - This field describes the block special device or remote filesystem to be mounted.&lt;/li&gt;
&lt;li&gt;The second field (fs_file)   - This field describes the mount point for the filesystem.&lt;/li&gt;
&lt;li&gt;The third field (fs_vfstype) - This  field  describes  the  type of the filesystem.&lt;/li&gt;
&lt;li&gt;The fourth field (fs_mntops) - This field describes the mount options associated with the filesystem.&lt;/li&gt;
&lt;li&gt;The fifth field (fs_freq)    - This  field is used for these filesystems by the dump(8) command to determine which filesystems need to be dumped. &lt;/li&gt;
&lt;li&gt;The sixth field (fs_passno)  - This field is used by the fsck(8) program to determine the order in which filesystem checks are done at reboot time. &lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Mount ext4 filesystems&lt;/h1&gt;
&lt;p&gt;Assuming we have formatted /dev/sda1 as ext4, then we would add this line to fstab&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;sda1&lt;/span&gt;   &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mountpoint&lt;/span&gt;    &lt;span class="n"&gt;ext4&lt;/span&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt;    &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Always check your entry by running mount -a command, if errors are returned address them before a reboot to prevent serious issues. &lt;/p&gt;
&lt;h1&gt;Mount LUKS-encrypted filesystems&lt;/h1&gt;
&lt;p&gt;Assuming we have already created and opened a LUKS-encrypted filesystem, we would add the mount point and luks name into the /etc/crypttab file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;lukspartition&lt;/span&gt;      &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lukspartition&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;and then we would want to mount add an entry to fstab. If we wanted to reference the filesystem via path:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lukspartition&lt;/span&gt;   &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mountpoint&lt;/span&gt;  &lt;span class="n"&gt;ext4&lt;/span&gt;   &lt;span class="n"&gt;defaults&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we wanted to reference by UUID we could get the UUID with the blkid command. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;root&lt;/span&gt;&lt;span class="err"&gt;@&lt;/span&gt;&lt;span class="n"&gt;localhost&lt;/span&gt; &lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="n"&gt;blkid&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;newlukspart&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;51b401e1-2120-4f52-88ff-d6c80c379276&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;ext4&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;then in fstab:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;51b401e1-2120-4f52-88ff-d6c80c379276&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mountpoint&lt;/span&gt;     &lt;span class="n"&gt;ext4&lt;/span&gt;   &lt;span class="n"&gt;defaults&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Mount network filesystems&lt;/h1&gt;
&lt;p&gt;Similar to the rest, just using ip as location, in &lt;code&gt;/etc/fstab&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="mf"&gt;192.168.1.100&lt;/span&gt;&lt;span class="o"&gt;:/&lt;/span&gt;&lt;span class="n"&gt;share&lt;/span&gt;    &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mnt&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;share&lt;/span&gt;  &lt;span class="n"&gt;nfs&lt;/span&gt;     &lt;span class="n"&gt;ro&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;_netdev&lt;/span&gt;         &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The options will vary of course, &lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Configure systems to mount file systems at boot by Universally Unique ID (UUID) or label</title><link href="http://rhce.co/configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label.html</id><summary type="html">&lt;p&gt;Configuring a filesystem to mount via UUID or label is an essential part of managing filesystems and partitions on the Red Hat Enterprise Linux system, and will most probably be something you will see on an RHCSA/RHCE exam. &lt;/p&gt;
&lt;p&gt;First we will configure mounting at boot time via UUID. &lt;em&gt;To find the UUID of a device you have to issue just one command:&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; blkid
/dev/sda1: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;183e5753-fbe7-4cf7-b974-f6cb9a326a33&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ext4&amp;quot;&lt;/span&gt; 
/dev/sda2: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1OJDNK-4gpP-s3YE-cK7o-1urJ-cXHk-jPnuF7&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;LVM2_member&amp;quot;&lt;/span&gt; 
/dev/sdb1: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;1c1fa5a2-11e5-4d6b-89e9-61a15dcbe0f6&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;crypto_LUKS&amp;quot;&lt;/span&gt; 
/dev/mapper/VolGroup-lv_swap: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;dc82e68f-f1b9-409d-a1f7-c556eb6eb78a&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;swap&amp;quot;&lt;/span&gt; 
/dev/sdc: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;vFLamh-rudP-T1jc-ZrrH-LTgD-FUuq-IHUBgM&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;LVM2_member&amp;quot;&lt;/span&gt; 
/dev/mapper/VolGroup-lv_root: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;5bbc084b-1af0-464f-8629-9490a75cacd9&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ext4&amp;quot;&lt;/span&gt; 
/dev/mapper/mynew_data: &lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;f8b694a6-916d-4ffa-8e5c-a7ed8ab25b5d&amp;quot;&lt;/span&gt; &lt;span class="nv"&gt;TYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;ext4&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once you have the UUID you can head over to /etc/fstab to create the entry. Here we will pick our new luks partition.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vim /etc/fstab
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Inside of fstab we need to add a line. (if you already have a line for this partition, comment it out with #)&lt;/p&gt;
&lt;p&gt;UUID=f8b694a6-916d-4ffa-8e5c-a7ed8ab25b5d  /mynew_data ext4    defaults    1 2&lt;/p&gt;
&lt;p&gt;Then write/save the file and quit :wq
You can confirm that this is entered correctly by using the mount command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -a

~&lt;span class="o"&gt;]&lt;/span&gt; mount
..ommitted data...
/dev/mapper/mynew_data on /mynew_data &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw,relatime,seclabel,barrier&lt;span class="o"&gt;=&lt;/span&gt;1,data&lt;span class="o"&gt;=&lt;/span&gt;ordered&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;Now to mount a filesystem via label&lt;/em&gt; requires another step, to label the filesystem. Luckily this is done in one easy step using e2label. I am going to label the filesystem luksdrive&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; e2label /dev/mapper/mynew_data luksdrive
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we can unmount the filesystem, change our fstab to use a label, and run mount a again to see it mounted via label instead. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; umount /mynew_data/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Verify its unmounted&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then edit /etc/fstab this time using LABEL=luksdrive in place of UUID. So the line should look like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;LABEL&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;luksdrive         /mynew_data             ext4    defaults        1 2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run mount -a and mount to confirm:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -a

~&lt;span class="o"&gt;]&lt;/span&gt; mount
..ommitted data...
/dev/mapper/mynew_data on /mynew_data &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw,relatime,seclabel,barrier&lt;span class="o"&gt;=&lt;/span&gt;1,data&lt;span class="o"&gt;=&lt;/span&gt;ordered&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thats all there is to that. I would try that out a number of times to make sure you have the process down. Repitition is key.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create and configure LUKS-encrypted partitions and logical volumes to prompt for password and mount a decrypted file system at boot</title><link href="http://rhce.co/create-and-configure-luks-encrypted-partitions-and-logical-volumes-to-prompt-for-password-and-mount-a-decrypted-file-system-at-boot.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-and-configure-luks-encrypted-partitions-and-logical-volumes-to-prompt-for-password-and-mount-a-decrypted-file-system-at-boot.html</id><summary type="html">&lt;p&gt;This is a brand new objective that was not present on the RHEL5 requirements. There are a few steps to this, but once you go through it a few times its not too bad. &lt;/p&gt;
&lt;p&gt;First step is to create a partition with fdisk or parted. We will use fdisk here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; fdisk -c -u /dev/sdb

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
p
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4, default 1&lt;span class="o"&gt;)&lt;/span&gt;: 1
First sector &lt;span class="o"&gt;(&lt;/span&gt;2048-8388607, default 2048&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 2048
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;2048-8388607, default 8388607&lt;span class="o"&gt;)&lt;/span&gt;: +200M

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: t
Selected partition 1
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: 83

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now that the partition is created, we have to luks encrypt it. First we fill it with random data for security:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; ~&lt;span class="o"&gt;]&lt;/span&gt; dd &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/urandom &lt;span class="nv"&gt;of&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/dev/sdb1 &lt;span class="nv"&gt;bs&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1M
dd: writing &lt;span class="sb"&gt;`&lt;/span&gt;/dev/sdb1&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;: No space left on device
201+0 records in
200+0 records out
209715200 bytes &lt;span class="o"&gt;(&lt;/span&gt;210 MB&lt;span class="o"&gt;)&lt;/span&gt; copied, 26.0497 s, 8.1 MB/s
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then we can encrypt the partition with luksFormat: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; ~&lt;span class="o"&gt;]&lt;/span&gt; cryptsetup luksFormat /dev/sdb1

WARNING!
&lt;span class="o"&gt;========&lt;/span&gt;
This will overwrite data on /dev/sdb1 irrevocably.

Are you sure? &lt;span class="o"&gt;(&lt;/span&gt;Type uppercase yes&lt;span class="o"&gt;)&lt;/span&gt;: YES
Enter LUKS passphrase: 
Verify passphrase:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now that the partition is encrypted, we open it and give it a label. The label is the name that it will show up as under /dev/mapper/  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; cryptsetup luksOpen /dev/sdb1 mynew_data 
Enter passphrase &lt;span class="k"&gt;for&lt;/span&gt; /dev/sdb1:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once the partition is setup and luks encrypted, it will be available in the /dev/mapper/ directory. You can do an ls on the /dev/mapper/ directory to confirm. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ls /dev/mapper/
control  mynew_data  VolGroup-lv_root  VolGroup-lv_swap
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next steps involve creating a filesystem, adding the partition into the /etc/crypttab file, as well as in the /etc/fstab file in order to configure automounting on boot. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkfs.ext4 /dev/mapper/mynew_data 
mke2fs 1.41.14 &lt;span class="o"&gt;(&lt;/span&gt;22-Dec-2010&lt;span class="o"&gt;)&lt;/span&gt;
Filesystem &lt;span class="nv"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
OS &lt;span class="nb"&gt;type&lt;/span&gt;: Linux
Block &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
Fragment &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;Stride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks, Stripe &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks
50800 inodes, 202752 blocks
10137 blocks &lt;span class="o"&gt;(&lt;/span&gt;5.00%&lt;span class="o"&gt;)&lt;/span&gt; reserved &lt;span class="k"&gt;for &lt;/span&gt;the super user
First data &lt;span class="nv"&gt;block&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1
Maximum filesystem &lt;span class="nv"&gt;blocks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;67371008
25 block groups
8192 blocks per group, 8192 fragments per group
2032 inodes per group
Superblock backups stored on blocks: 
8193, 24577, 40961, 57345, 73729
Writing inode tables: &lt;span class="k"&gt;done                            &lt;/span&gt;
Creating journal &lt;span class="o"&gt;(&lt;/span&gt;4096 blocks&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="k"&gt;done&lt;/span&gt;
Writing superblocks and filesystem accounting information: &lt;span class="k"&gt;done&lt;/span&gt;

This filesystem will be automatically checked every 25 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override
~&lt;span class="o"&gt;]&lt;/span&gt; vim /etc/crypttab
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;In the /etc/crypttab file you would simply place the name of the encrypted device, as well as the path to the device:&lt;/p&gt;
&lt;p&gt;mynew_data      /dev/sdb1&lt;/p&gt;
&lt;p&gt;Then we make the directory and add an entry into fstab, so that it mounts on boot:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkdir /mynew_data
~&lt;span class="o"&gt;]&lt;/span&gt; vim /etc/fstab

&lt;span class="c"&gt;# Add the following:&lt;/span&gt;
/dev/mapper/mynew_data /mynew_data ext4    defaults    1 2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thats it. You should run the mount command in order to verify your entries are correct in fstab, to prevent any boot issues.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -a

~&lt;span class="o"&gt;]&lt;/span&gt; mount
&lt;span class="c"&gt;# .... lots of data here that im leaving out&lt;/span&gt;
/dev/mapper/mynew_data on /mynew_data &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw,relatime,seclabel,barrier&lt;span class="o"&gt;=&lt;/span&gt;1,data&lt;span class="o"&gt;=&lt;/span&gt;ordered&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Awesome, try that a few times and you should be good to go on setting up luks encrypted partitions.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create and configure set-GID directories for collaboration</title><link href="http://rhce.co/create-and-configure-set-gid-directories-for-collaboration.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-and-configure-set-gid-directories-for-collaboration.html</id><summary type="html">&lt;p&gt;Set-GID directories are used for group collaboration. Everything that is created in a directory with that special permission bit, is automatically owned by the group. &lt;/p&gt;
&lt;p&gt;To set that permission bit you have to add one more digit than you usually see to permission sets, or another character depending on how to usually set permissions. &lt;/p&gt;
&lt;p&gt;The &lt;em&gt;digit-based way&lt;/em&gt; to setup a set-GID directory:&lt;/p&gt;
&lt;p&gt;We start off with a directory under root, named share. Right now its owned by root, along with everything under it. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ls -l | grep share
drwxr-xr-x.   2 root root  4096 Apr  6 10:28 share

~&lt;span class="o"&gt;]&lt;/span&gt; ls -l share/
total 0
-rw-r--r--. 1 root root 0 Apr  6 10:28 file213
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;First step in this process is changing group ownership of the directory to the group. 'it' will be the group in this example. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chgrp -R it  share/

~&lt;span class="o"&gt;]&lt;/span&gt; ls -l share/
total 0
-rw-r--r--. 1 root it 0 Apr  6 10:28 file213
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see, we recursivley change the directory and contents to the 'it' group, but its still owned by root. 
Next we would apply the set-gid permission on the directory by adding a 2 before the standard permissions set. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chmod 2755 share/

~&lt;span class="o"&gt;]&lt;/span&gt; ls -l | grep share
drwxr-sr-x.   2 root it    4096 Apr  6 10:28 share
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now you can see the directory has a permission set that contains an 's' now in place of the x for group. Lets test this out. I am going to touch a file as root in this directory. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; touch newfile
~&lt;span class="o"&gt;]&lt;/span&gt; chmod 760 newfile
~&lt;span class="o"&gt;]&lt;/span&gt; ls -l
total 0
-rw-r--r--. 1 root it 0 Apr  6 10:28 file213
-rwxrw----. 1 root it 0 Apr 13 02:03 newfile
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So you can see that automatically a group ownership is added to this file, which means anyone in the group 'it' can now read and write to this file, while anyone else cannot.&lt;/p&gt;
&lt;p&gt;The &lt;em&gt;character-based way&lt;/em&gt; to setup a set-GID directory:&lt;/p&gt;
&lt;p&gt;The only thing done differently with this method is the way the permissions are set. Instead of numerical/digit permissions, we use letters. First we list the permissions.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ls -l | grep share
drwxr-xr-x.   2 root it    4096 Apr 13 02:03 share
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then apply the permissions with g+s, for group plus set-guid bit.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; chmod g+s share/

~&lt;span class="o"&gt;]&lt;/span&gt; ls -l | grep share
drwxr-sr-x.   2 root it    4096 Apr 13 02:03 share
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see it has the same effect, just a different approach.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create and edit text files</title><link href="http://rhce.co/create-and-edit-text-files.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-and-edit-text-files.html</id><summary type="html">&lt;p&gt;Using a command line text editor is a skill that is absolutely necessary. Without it most tasks cannot be performed. The default editor used it vim. vim is a enhanced version of vi, which is not quite as pretty as vim. &lt;/p&gt;
&lt;p&gt;To use vim simply type vim and then the filename&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vim filename.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There are options that can be given such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;-R Open in read-only&lt;/li&gt;
&lt;li&gt;-b Start in binary mode&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There is also a list of options for using vim once you are editing, to move around and actually edit. It may seem cumbersome at first, but once you are used to vim you will love it.&lt;/p&gt;
&lt;p&gt;Check out the man page for more options: &lt;a href="http://amath.colorado.edu/computing/software/man/vim.html"&gt;vim&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create and manage Access Control Lists (ACLs)</title><link href="http://rhce.co/create-and-manage-access-control-lists-acls.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-and-manage-access-control-lists-acls.html</id><summary type="html">&lt;p&gt;Access control lists are an import part of administration on any Red Hat Enterprise Linux 6 system that you will be managing. The ability to deny or allow users based on user or group is crucial. &lt;/p&gt;
&lt;h1&gt;Enable ACL on a filesystem&lt;/h1&gt;
&lt;p&gt;To use ACLs first the acl property needs to be enabled on the partition. This can be checked by running the mount command and checking the options section for acl. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount
/dev/mapper/vg_rhel01-lv_root on / &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice that the only option is "rw", which means that acl is not enabled on the root filesystem. The change is easy to make and it involves adding an option in /etc/fstab. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vim /etc/fstab
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;before:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vg_rhel01&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lv_root&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;                       &lt;span class="n"&gt;ext4&lt;/span&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt;        &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;after:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mapper&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;vg_rhel01&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lv_root&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;                       &lt;span class="n"&gt;ext4&lt;/span&gt;    &lt;span class="n"&gt;defaults&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;acl&lt;/span&gt;        &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once that change has been made, we need to remount the filesystem in order for it to actually take effect. We could reboot, or just run the mount command with an option of remount. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -o remount /

~&lt;span class="o"&gt;]&lt;/span&gt; mount
/dev/mapper/vg_rhel01-lv_root on / &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw,acl&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now the acl option shows next to "rw". &lt;/p&gt;
&lt;h1&gt;Apply ACLs to a file for a user&lt;/h1&gt;
&lt;p&gt;To check acl on a directory or file, we would use the getfacl command &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; getfacl install.log
&lt;span class="c"&gt;# file: install.log&lt;/span&gt;
&lt;span class="c"&gt;# owner: root&lt;/span&gt;
&lt;span class="c"&gt;# group: root&lt;/span&gt;
user::rw-
group::r--
mask::r--
other::r--
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There are no special rules applied at this point. Use the setfacl command to add rw permissions to install.log.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; setfacl -m u:user2:rw install.log
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then getfacl to see the newly added acl. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; getfacl install.log
&lt;span class="c"&gt;# file: install.log&lt;/span&gt;
&lt;span class="c"&gt;# owner: root&lt;/span&gt;
&lt;span class="c"&gt;# group: root&lt;/span&gt;
user::rw-
user:user2:rw-
group::r--
mask::rw-
other::r--
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Apply ACLs to a file for a group&lt;/h1&gt;
&lt;p&gt;To add a group acl on the same file, we use the g option instead. The following command with add rwx permissions for the group "it" on the install.log file. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; setfacl -m g:it:rwx install.log
~&lt;span class="o"&gt;]&lt;/span&gt; getfacl install.log
&lt;span class="c"&gt;# file: install.log&lt;/span&gt;
&lt;span class="c"&gt;# owner: root&lt;/span&gt;
&lt;span class="c"&gt;# group: root&lt;/span&gt;
user::rw-
user:user2:rw-
group::r--
group:it:rwx
mask::rwx
other::r--
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create and remove physical volumes, assign physical volumes to volume groups, create and delete logical volumes</title><link href="http://rhce.co/create-and-remove-physical-volumes-assign-physical-volumes-to-volume-groups-create-and-delete-logical-volumes.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-and-remove-physical-volumes-assign-physical-volumes-to-volume-groups-create-and-delete-logical-volumes.html</id><summary type="html">&lt;h1&gt;Create and remove physical volumes&lt;/h1&gt;
&lt;p&gt;Creating a physical volume in LVM is the first step in the LVM setup. Its the part where you actually tell Red Hat Enterprise Linux that you want a disk to be used for LVM.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;code&gt;pvcreate&lt;/code&gt;&lt;/em&gt; is the command used to add the physical volumes, or physical partitions.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; pvcreate /dev/sdb
~&lt;span class="o"&gt;]&lt;/span&gt; Physical volume &lt;span class="s2"&gt;&amp;quot;/dev/sdb&amp;quot;&lt;/span&gt; successfully created
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;em&gt;&lt;code&gt;pvremove&lt;/code&gt;&lt;/em&gt; is used to disassociate the volume from LVM.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; pvremove /dev/sdb
~&lt;span class="o"&gt;]&lt;/span&gt; Labels on physical volume &lt;span class="s2"&gt;&amp;quot;/dev/sdb&amp;quot;&lt;/span&gt; successfully wiped
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Assign physical volumes to volume groups&lt;/h1&gt;
&lt;p&gt;Once that physical volume has been created we can add it to a volume group with the vgcreate or vgextend (if the volume group has already been created).&lt;/p&gt;
&lt;p&gt;If the volume group does not exist, you can create it and add physical volumes in one shot:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vgextend MyVolGroup /dev/sdc 
No physical volume label &lt;span class="nb"&gt;read &lt;/span&gt;from /dev/sdc
Physical volume &lt;span class="s2"&gt;&amp;quot;/dev/sdc&amp;quot;&lt;/span&gt; successfully created
Volume group &lt;span class="s2"&gt;&amp;quot;MyVolGroup&amp;quot;&lt;/span&gt; successfully extended
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To assign a new physical volume to an existing volume group we use &lt;em&gt;&lt;code&gt;vgextend&lt;/code&gt;&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vgextend MyVolGroup /dev/sdc 
Volume group &lt;span class="s2"&gt;&amp;quot;MyVolGroup&amp;quot;&lt;/span&gt; successfully extended
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Similarly if we want to remove /dev/sdc from that group we would run ''vgreduce'':&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; vgreduce MyVolGroup /dev/sdc
Removed &lt;span class="s2"&gt;&amp;quot;/dev/sdc&amp;quot;&lt;/span&gt; from volume group &lt;span class="s2"&gt;&amp;quot;MyVolGroup&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Create and delete logical volumes&lt;/h1&gt;
&lt;p&gt;Logical Volumes have similar commands to create and delete as Volume Groups and Physical Volumes. &lt;/p&gt;
&lt;p&gt;To create a new logical volume:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvcreate -L 100M MyVolGroup
Logical volume &lt;span class="s2"&gt;&amp;quot;lvol0&amp;quot;&lt;/span&gt; created
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To display the volume after for confirmation:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvdisplay MyVolGroup
--- Logical volume ---
LV Name                /dev/MyVolGroup/lvol0
VG Name                MyVolGroup
LV UUID                zwLMev-i63w-7Jpk-XuqZ-VGl7-89Ov-WpoewP
LV Write Access        &lt;span class="nb"&gt;read&lt;/span&gt;/write
LV Status              available
&lt;span class="c"&gt;# open                 0&lt;/span&gt;
LV Size                100.00 MiB
Current LE             25
Segments               1
Allocation             inherit
Read ahead sectors     auto
- currently &lt;span class="nb"&gt;set &lt;/span&gt;to     256
Block device           253:2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To delete the logical volume you would use the LV Name listed in the results of lvdisplay:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvremove /dev/MyVolGroup/lvol0
Do you really want to remove active logical volume lvol0? &lt;span class="o"&gt;[&lt;/span&gt;y/n&lt;span class="o"&gt;]&lt;/span&gt;: y
Logical volume &lt;span class="s2"&gt;&amp;quot;lvol0&amp;quot;&lt;/span&gt; successfully removed
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create, delete and modify local groups and group memberships</title><link href="http://rhce.co/create-delete-and-modify-local-groups-and-group-memberships.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-delete-and-modify-local-groups-and-group-memberships.html</id><summary type="html">&lt;p&gt;Working with groups is a lot like working with users. Commands include groupadd, groupmod, groupdel, groups&lt;/p&gt;
&lt;p&gt;Examples:&lt;/p&gt;
&lt;h2&gt;&lt;em&gt;List the groups a user is in&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groups username
username : username wheel sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Add a group&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupadd sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Delete a group&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupdel sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Modify a group's name&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupmod -n salesfolk sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Modify a group's GID&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupmod -g 217 sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Delete a group&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupdel sales
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Add user bob to sales&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  groupmems -g sales -a bob
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create, delete, and modify local user accounts</title><link href="http://rhce.co/create-delete-and-modify-local-user-accounts.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-delete-and-modify-local-user-accounts.html</id><summary type="html">&lt;p&gt;Two ways you can go about this, the command-line way, or the GUI way. Doesn't matter for the test, just whatever you are comfortable with. Keep in mind that as a sysadmin it will be much more handy to use the command-line. ;-) &lt;/p&gt;
&lt;h1&gt;Graphical User Interface (GUI)&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  yum -y install system-config-users

~&lt;span class="o"&gt;]&lt;/span&gt;  system-config-users
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That will pop up an interface to add, remove, and modify users. Remember that if you are doing this remotely, you need to carry your XSession over to the server. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  ssh -X user@host
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;That's as far as I will go into the GUI, its all point and click. :)&lt;/p&gt;
&lt;h1&gt;Command-line interface (CLI)&lt;/h1&gt;
&lt;h2&gt;&lt;em&gt;Add user bob:&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  useradd bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Add bob into the wheel group&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  useradd -G wheel bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Add bob with sh shell instead of bash&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  useradd -s /bin/sh bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Add bob with a UID of 504 and a GID of 505&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  useradd -u 504 -g 505 bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Modify bob to use the bash shell instead&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  usermod -s /bin/bash bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Modify bob to be in the sales group as well&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  usermod -a -G sales bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Set or change a password for bob&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  passwd bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Delete bob from the system&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  userdel bob
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;em&gt;Delete bob and force remove him even if he is logged in. Also removes his home dir and mail spool&lt;/em&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  userdel -f bob
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There are many other options that you can use that I didn't go over, just check out the man page. I covered most of the common ones.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create, delete, copy and move files and directories</title><link href="http://rhce.co/create-delete-copy-and-move-files-and-directories.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-delete-copy-and-move-files-and-directories.html</id><summary type="html">&lt;p&gt;''Objective: Create, delete, copy and move files and directories''&lt;/p&gt;
&lt;p&gt;Administering a system requires moving, copying, and deleting files and directories. These are tasks that you will encounter on a constant basis and are essential to the RHCE.&lt;/p&gt;
&lt;p&gt;Some of the most important commands are the ones that we will list below. &lt;/p&gt;
&lt;h2&gt;&lt;b&gt;ls&lt;/b&gt; - List contents of a directory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# list the contents of the home directory.&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ls /home/
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;cp&lt;/b&gt; - Copy a file or group of files to another location on the machine.&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# copy file1 as file2&lt;/span&gt;
cp file1 file2
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;mv&lt;/b&gt; - Move a file or directory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# move a directory to the /tmp directory&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;mv directory /tmp/
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;cd&lt;/b&gt; - Change directory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# navigate into the /home/ directory&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /home/

&lt;span class="c"&gt;# navigate from home into the /etc directory, using the .. to reverse out of the directory&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; ../etc/
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;rm&lt;/b&gt; - remove files or directories.&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# remove file1&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;rm file1

&lt;span class="c"&gt;# remove directory with all contents (Caution when using this!)&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;rm -rf directory1/
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;touch&lt;/b&gt; - create a new blank file&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# create a blank file named myfile.txt&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;touch myfile.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;mkdir&lt;/b&gt; - create a new directory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# create a directory in the present working directory&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;mkdir directory1
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;pwd&lt;/b&gt; - Get the present working directory&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# find the present working directory. Handy when you need to see where in the system you are.&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;pwd&lt;/span&gt;     
&lt;span class="nv"&gt;$ &lt;/span&gt;/home/david/
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;head&lt;/b&gt;- Display first lines of a file, default to 10 lines&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# display the first 10 lines of file1&lt;/span&gt;
head file1

::bash
&lt;span class="c"&gt;# display the first 50 lines of file1&lt;/span&gt;
head -50 file1
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;tail&lt;/b&gt; -Display last lines of a file, default to 10 lines&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# display the last 10 lines of file1&lt;/span&gt;
tail file1

&lt;span class="c"&gt;# display the last 50 lines of file1   &lt;/span&gt;
tail -50 file1
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create hard and soft links</title><link href="http://rhce.co/create-hard-and-soft-links.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-hard-and-soft-links.html</id><summary type="html">&lt;h1&gt;Hard Links&lt;/h1&gt;
&lt;p&gt;A &lt;em&gt;hard link&lt;/em&gt; is a link where two files are really the same file. &lt;/p&gt;
&lt;p&gt;Watch how when we create a file, and link to it with a hard link, the inodes (exact location on the harddisk) are the same.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;touch file.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ln file.txt file1.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li file*
524594 -rw-r--r--. 2 root root 0 Mar 21 12:54 file1.txt
524594 -rw-r--r--. 2 root root 0 Mar 21 12:54 file.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;When we create a third file linking it to the original, we see the same thing. They all are have an inode of 524594. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ln file.txt file2.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li file*
524594 -rw-r--r--. 3 root root 0 Mar 21 12:54 file1.txt
524594 -rw-r--r--. 3 root root 0 Mar 21 12:54 file2.txt
524594 -rw-r--r--. 3 root root 0 Mar 21 12:54 file.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;What happens if we delete the original file?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;rm file.txt
rm: remove regular empty file &lt;span class="s1"&gt;&amp;#39;file.txt&amp;#39;&lt;/span&gt;? y
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li file*
524594 -rw-r--r--. 2 root root 0 Mar 21 12:54 file1.txt
524594 -rw-r--r--. 2 root root 0 Mar 21 12:54 file2.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see, the other two files are in tact and have not been removed, even though the original file is gone. That is because they are all the same file, when you make a hard link to it you are just putting another reference to it with a different name. Until the last file with that inode gets deleted, that file lives on.&lt;/p&gt;
&lt;p&gt;Lets put some text in file2.txt and see what happens&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;things&amp;quot;&lt;/span&gt; &amp;gt;&amp;gt; file2.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li file*
524594 -rw-r--r--. 2 root root 7 Mar 21 13:01 file1.txt
524594 -rw-r--r--. 2 root root 7 Mar 21 13:01 file2.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;cat file1.txt 
things
&lt;span class="nv"&gt;$ &lt;/span&gt;cat file2.txt 
things
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see, the files both grew to 7 bytes, and when we look inside each one, they both have the same text. That's because they are the same.&lt;/p&gt;
&lt;h1&gt;Soft Links&lt;/h1&gt;
&lt;p&gt;A &lt;em&gt;soft link&lt;/em&gt; is much different from a hard link. Most people relate hard links to shortcuts in Windows. When you put a shortcut on your Desktop, it is just a link to the something on your computer. If you delete it no biggie, its just a link. Soft links are the same way. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;touch testfile.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ln -s testfile.txt testfile1.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li testfile*
524726 lrwxrwxrwx. 1 root root 12 Mar 21 13:11 testfile1.txt -&amp;gt; testfile.txt
524725 -rw-r--r--. 1 root root  0 Mar 21 13:11 testfile.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here we created a file, testfile.txt, and then ran &lt;code&gt;ln -s&lt;/code&gt; to create a soft link. When we ran &lt;code&gt;ls -li&lt;/code&gt; we see that now the inodes are different, and testfile1.txt shows highlighted with an arrow to testfile.txt.&lt;/p&gt;
&lt;p&gt;OK, so now lets repeat what we did above for hard links. I will make another soft link, linking to the original file testfile.txt and call it testfile2.txt. Then I'll delete the original and &lt;code&gt;ls -li&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ln -s testfile.txt testfile2.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li testfile*
524726 lrwxrwxrwx. 1 root root 12 Mar 21 13:11 testfile1.txt -&amp;gt; testfile.txt
524727 lrwxrwxrwx. 1 root root 12 Mar 21 13:15 testfile2.txt -&amp;gt; testfile.txt
524725 -rw-r--r--. 1 root root  0 Mar 21 13:11 testfile.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;rm testfile.txt 
rm: remove regular empty file &lt;span class="s1"&gt;&amp;#39;testfile.txt&amp;#39;&lt;/span&gt;? y
&lt;span class="nv"&gt;$ &lt;/span&gt;ls -li testfile*
524726 lrwxrwxrwx. 1 root root 12 Mar 21 13:11 testfile1.txt -&amp;gt; testfile.txt &lt;span class="c"&gt;# Imagine RED here&lt;/span&gt;
524727 lrwxrwxrwx. 1 root root 12 Mar 21 13:15 testfile2.txt -&amp;gt; testfile.txt &lt;span class="c"&gt;# Imagine RED here&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we try and cat the two files, to see the contents, we get an error. We can no longer access these files, they are broken links. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;cat testfile*
cat: testfile1.txt: No such file or directory
cat: testfile2.txt: No such file or directory
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Create, mount, unmount and use ext2, ext3 and ext4 file systems</title><link href="http://rhce.co/create-mount-unmount-and-use-ext2-ext3-and-ext4-file-systems.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:create-mount-unmount-and-use-ext2-ext3-and-ext4-file-systems.html</id><summary type="html">&lt;p&gt;The default filesystem with Red Hat Enterprise Linux 6 is ext4, so that is the one we will use in the following example. The mkfs command can be used with the filesystem type as shown below. We are making a filesystem on a newly created partition, /dev/sdc1&lt;/p&gt;
&lt;h1&gt;Create file systems&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkfs.ext4 /dev/sdc1
mke2fs 1.41.12 &lt;span class="o"&gt;(&lt;/span&gt;17-May-2010&lt;span class="o"&gt;)&lt;/span&gt;
Filesystem &lt;span class="nv"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
OS &lt;span class="nb"&gt;type&lt;/span&gt;: Linux
Block &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
Fragment &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;Stride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks, Stripe &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks
64000 inodes, 256000 blocks
12800 blocks &lt;span class="o"&gt;(&lt;/span&gt;5.00%&lt;span class="o"&gt;)&lt;/span&gt; reserved &lt;span class="k"&gt;for &lt;/span&gt;the super user
First data &lt;span class="nv"&gt;block&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1
Maximum filesystem &lt;span class="nv"&gt;blocks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;67371008
32 block groups
8192 blocks per group, 8192 fragments per group
2000 inodes per group
Superblock backups stored on blocks: 
8193, 24577, 40961, 57345, 73729, 204801, 221185

Writing inode tables: &lt;span class="k"&gt;done                            &lt;/span&gt;
Creating journal &lt;span class="o"&gt;(&lt;/span&gt;4096 blocks&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="k"&gt;done&lt;/span&gt;
Writing superblocks and filesystem accounting information: &lt;span class="k"&gt;done&lt;/span&gt;

This filesystem will be automatically checked every 37 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we wanted to make an ext3 filesystem we would just run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkfs.ext3 /dev/sdc1
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Mount Filesystems&lt;/h1&gt;
&lt;p&gt;To mount a newly created filesystem, we would use the mount command. First we have to create a mount point. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  mkdir /new_mount_point

~&lt;span class="o"&gt;]&lt;/span&gt;  mount -o rw -t ext4 /dev/sdc1 /new_mount_point/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To check that that partition was created and mounted correctly. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  mount
/dev/mapper/VolGroup-lv_root on / &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw&lt;span class="o"&gt;)&lt;/span&gt;
...output omitted
/dev/sdc1 on /new_mount_point &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The mount will not survive a reboot, unless you add the partition into /etc/fstab as we did on this page: http://rhce.co/configure-systems-to-mount-file-systems-at-boot-by-universally-unique-id-uuid-or-label.html&lt;/p&gt;
&lt;h1&gt;Unmount Filesystems&lt;/h1&gt;
&lt;p&gt;The command to unmount a filesystem is not unmount, but instead its umount. (no idea why they left out the n, but they did)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  umount /dev/sdc1 
:::bash
~&lt;span class="o"&gt;]&lt;/span&gt;  mount
&lt;span class="c"&gt;# ... no /dev/sdc1 here&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Diagnose and address routine SELinux policy violations</title><link href="http://rhce.co/diagnose-and-address-routine-selinux-policy-violations.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:diagnose-and-address-routine-selinux-policy-violations.html</id><summary type="html">&lt;p&gt;Going back to a previous example of trying to serve files from a directory other than the default apache directory, how would I be able to tell SELinux was the problem in that case?&lt;/p&gt;
&lt;p&gt;I see a 403 error when I visit the domain after enabling SELinux. So first I would look in the apache error logs for a message as to why I am being denied. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;crit&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="mf"&gt;127.0.0.1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="n"&gt;Permission&lt;/span&gt; &lt;span class="n"&gt;denied&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;public_html&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;htaccess&lt;/span&gt; &lt;span class="n"&gt;pcfg_openfile&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;unable&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;check&lt;/span&gt; &lt;span class="n"&gt;htaccess&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ensure&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="n"&gt;is&lt;/span&gt; &lt;span class="n"&gt;readable&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;At this point it would be best to check permissions on the .htaccess file, and sure enough permissions are good. Apache user and Apache group owns it, and it is readable.&lt;/p&gt;
&lt;p&gt;Next place to look would be the audit.log, which is the logfile that SELinux uses to log messages. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;AVC&lt;/span&gt; &lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;audit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1323618414.869&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;508&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;avc&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;  &lt;span class="n"&gt;denied&lt;/span&gt;  &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;read&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt;  &lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;23407&lt;/span&gt; &lt;span class="n"&gt;comm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;httpd&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;.htaccess&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;dev&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;dm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;ino&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1966097&lt;/span&gt; &lt;span class="n"&gt;scontext&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;system_u&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;system_r&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;httpd_t&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;s0&lt;/span&gt; &lt;span class="n"&gt;tcontext&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;unconfined_u&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;object_r&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;user_home_t&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;s0&lt;/span&gt; &lt;span class="n"&gt;tclass&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;
&lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;SYSCALL&lt;/span&gt; &lt;span class="n"&gt;msg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;audit&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1323618414.869&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;508&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;arch&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;c000003e&lt;/span&gt; &lt;span class="n"&gt;syscall&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="n"&gt;success&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;no&lt;/span&gt; &lt;span class="n"&gt;exit&lt;/span&gt;&lt;span class="o"&gt;=-&lt;/span&gt;&lt;span class="mi"&gt;13&lt;/span&gt; &lt;span class="n"&gt;a0&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;7f&lt;/span&gt;&lt;span class="n"&gt;a80ef2f358&lt;/span&gt; &lt;span class="n"&gt;a1&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;80000&lt;/span&gt; &lt;span class="n"&gt;a2&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="n"&gt;b6&lt;/span&gt; &lt;span class="n"&gt;a3&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;7469672f7777772f&lt;/span&gt; &lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;ppid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;1345&lt;/span&gt; &lt;span class="n"&gt;pid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;23407&lt;/span&gt; &lt;span class="n"&gt;auid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4294967295&lt;/span&gt; &lt;span class="n"&gt;uid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;gid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;euid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;suid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;fsuid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;egid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;sgid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;fsgid&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;48&lt;/span&gt; &lt;span class="n"&gt;tty&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="n"&gt;ses&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;4294967295&lt;/span&gt; &lt;span class="n"&gt;comm&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;httpd&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;exe&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;/usr/sbin/httpd&amp;quot;&lt;/span&gt; &lt;span class="n"&gt;subj&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;system_u&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;system_r&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="kt"&gt;httpd_t&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="n"&gt;s0&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;null&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I can see that /usr/sbin/httpd was denied access to '.htaccess'. At this point we know SELinux is the problem. Looking at the message a little closer, the context can be seen in the log entry, tcontext=unconfined_u:object_r:user_home_t, which is not the httpd_sys_content_t that can be seen on files in the deafult apache directory. &lt;/p&gt;
&lt;p&gt;Lets look at the ftpd man page, which has the best example to pull from...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; man ftpd_selinux

...
semanage fcontext -a -t public_content_t &lt;span class="s2"&gt;&amp;quot;/var/ftp(/.*)?&amp;quot;&lt;/span&gt;
restorecon -F -R -v /var/ftp
...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now replace the proper items in order to make this work:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="kt"&gt;public_content_t&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kt"&gt;httpd_sys_content_t&lt;/span&gt;
&lt;span class="s"&gt;&amp;quot;/var/ftp(/.*)?&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;/www/test/public_html(/.*)?&amp;quot;&lt;/span&gt;
&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;var&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ftp&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;www&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;test&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;public_html&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The commands we would end up running would be:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;semanage fcontext -a -t httpd_sys_content_t &lt;span class="s2"&gt;&amp;quot;/www/test/public_html(/.*)?&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;restorecon -F -R -v /www/test/public_html
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally, check the context of that .htaccess file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ls -laZ /www/test/public_html
 ...
 -rw-rw-r--. apache apache system_u:object_r:httpd_sys_content_t:s0 .htaccess
 ...
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Looks good, now our page loads. This may seem kind of crazy, but practice with different application and after a while it will be second nature to troubleshoot this. This is a testable item now though, so you have to learn it.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Diagnose and correct file permission problems</title><link href="http://rhce.co/diagnose-and-correct-file-permission-problems.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:diagnose-and-correct-file-permission-problems.html</id><summary type="html">&lt;p&gt;Filesystem permssions can be diagnosed best with the ls -l option, which will display the permission bits on the file. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;cat&lt;/span&gt; &lt;span class="n"&gt;rootfile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt; 
&lt;span class="nl"&gt;cat:&lt;/span&gt; &lt;span class="n"&gt;rootfile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Permission&lt;/span&gt; &lt;span class="n"&gt;denied&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A typical filesystem permission issue will look like the above. With a permission denied error. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;ls&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;l&lt;/span&gt; &lt;span class="n"&gt;rootfile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt; 
&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;rwxrwx&lt;/span&gt;&lt;span class="o"&gt;---&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="n"&gt;it&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="n"&gt;Apr&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt; &lt;span class="mo"&gt;01&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="n"&gt;rootfile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Permission denied can show up in log files as well, example being the apache error log.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Extend existing unencrypted ext4-formatted logical volumes</title><link href="http://rhce.co/extend-existing-unencrypted-ext4-formatted-logical-volumes.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:extend-existing-unencrypted-ext4-formatted-logical-volumes.html</id><summary type="html">&lt;p&gt;Extending a file system without damaging it is an important skill, for many obvious reasons. Its also pretty straightforward once you know the commands. &lt;/p&gt;
&lt;p&gt;To extend a logical volume you can use the lvextend command, with the -L switch to specify the size. There are two ways to do this, make sure you are careful with the syntax. &lt;/p&gt;
&lt;p&gt;First lets display our logical volumes. (make sure you unmount any filesystems which you are about to extend.)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvdisplay 
--- Logical volume ---
LV Name                /dev/MyNewVolgroup1/MyNewLogVol1
VG Name                MyNewVolgroup1
LV UUID                ZyZZLu-oQYu-ifti-ww28-VzQ7-xV5w-wOvBim
LV Write Access        &lt;span class="nb"&gt;read&lt;/span&gt;/write
LV Status              available
&lt;span class="c"&gt;# open                 0&lt;/span&gt;
LV Size                200.00 MiB
Current LE             50
Segments               1
Allocation             inherit
Read ahead sectors     auto
- currently &lt;span class="nb"&gt;set &lt;/span&gt;to     256
Block device           253:2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we will extend the logical volume, adding 100M. See how we do this by putting a + sign in front of the size? &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvextend -L +100M /dev/MyNewVolgroup1/MyNewLogVol1
Extending logical volume MyNewLogVol1 to 300.00 MiB
Logical volume MyNewLogVol1 successfully resized
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now we extend the volume TO BE 400M. So here we are specifying the end size, as opposed to adding that amount. This is an important distinction to make, especially during testing. Last thing you want to do is destroy a filesystem because you had to shrink it in order to meet the test requirements. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; lvextend -L 400M /dev/MyNewVolgroup1/MyNewLogVol1
Extending logical volume MyNewLogVol1 to 400.00 MiB
Logical volume MyNewLogVol1 successfully resized
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Install and update software packages from Red Hat Network, a remote repository, or from the local filesystem</title><link href="http://rhce.co/install-and-update-software-packages-from-red-hat-network-a-remote-repository-or-from-the-local-filesystem.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:install-and-update-software-packages-from-red-hat-network-a-remote-repository-or-from-the-local-filesystem.html</id><summary type="html">&lt;p&gt;Red Hat Network is pretty easy to work with. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; rhn_register
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And follow the instructions. Now, if you arent lucky enough to have a subscription to this wonderful service, then you will most likely using a repo that you create, or that is given to you.&lt;/p&gt;
&lt;p&gt;Most common situation is having a remote repository that you need to pull packages from. Usually you be given a url to connect to looking something like this: http://myremote.com/repo/i386/. The yum repo files are located in /etc/yum.repos.d/ and end with a .repo extension. The format is simple to setup a repo on the fly. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[myremote]&lt;/span&gt;
&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;myremote&lt;/span&gt;
&lt;span class="na"&gt;baseurl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;http://myremote.com/repo/i386/&lt;/span&gt;
&lt;span class="na"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;1&lt;/span&gt;
&lt;span class="na"&gt;gpgcheck&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Those are the essential elements to pull packages via yum from that repo. &lt;/p&gt;
&lt;p&gt;Setting up a local repo with a disk is almost the same with a few steps before. First the disk needs to be mounted, and the packages copied from Packages/ into another directory on the server. In this case we will use file:///directory/path/to/repo/ as the url, where /directory/path/to/repo/ is the directory that contains the rpm files. &lt;/p&gt;
&lt;p&gt;Next the package creatrepo needs to be installed. Once installed cd into the directory and run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; createrepo .
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now that you have a repo setup, yum needs to know about it. Create a file named mylocal.repo in the /etc/yum.repos.d/ directory. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;[mylocal]&lt;/span&gt;
&lt;span class="na"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;mylocal&lt;/span&gt;
&lt;span class="na"&gt;baseurl&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;file:///directory/path/to/repo/&lt;/span&gt;
&lt;span class="na"&gt;enabled&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;1&lt;/span&gt;
&lt;span class="na"&gt;gpgcheck&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Run a yum command to test, and it should be pulling information about packages from the local repo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; yum list httpd
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Install Red Hat Enterprise Linux automatically using Kickstart</title><link href="http://rhce.co/install-red-hat-enterprise-linux-automatically-using-kickstart.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:install-red-hat-enterprise-linux-automatically-using-kickstart.html</id><summary type="html">&lt;p&gt;Installing a system via Kickstart comes in pretty useful in real life. Whether there is time to do that in the 2.5 hours that they give you on the exam is questionable, but regardless its an objective.&lt;/p&gt;
&lt;p&gt;There are a few ways to create a kickstart file, that would be used in the automatic installation of a Redhat Enterprise Linux 6 system. Theres always writing the thing from scratch, which while always an optoin, is not so efficient. Besides that there is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;system-config-kickstart  (requires installing this application)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;using the anaconda-ks.cfg that was created during an installation. &lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;On the exam you would probably (hopefully) be provided with a premade kickstart file, so we work from there. &lt;/p&gt;
&lt;p&gt;Lets say we have this info:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;kickstart&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//192.168.111.23/pub/ks/redhat6.kfg&lt;/span&gt;
&lt;span class="n"&gt;ip&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;new&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;192.168.111.222&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;same&lt;/span&gt; &lt;span class="n"&gt;subnet&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;netmask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mf"&gt;255.255.255.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;First we would boot the system with some sort of boot media, most likely the RHEL 6 CD-ROM #1 and at the boot prompt (when it asks you what you want to do) you would type a command like this, substituting your own info:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;linux&lt;/span&gt; &lt;span class="n"&gt;ks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;http&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//192.168.111.23/pub/ks/redhat6.kfg append ip=192.168.111.222 netmask=255.255.255.0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As long as everying is configured correctly and the installation media is where is should be, then this should install pretty hands off. Of course, anything besides this already configured environment would just take way too much time to be included on the exam. As long as you know how to install via ks file, you are probably good.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Install Red Hat Enterprise Linux systems as virtual guests</title><link href="http://rhce.co/install-red-hat-enterprise-linux-systems-as-virtual-guests.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:install-red-hat-enterprise-linux-systems-as-virtual-guests.html</id><summary type="html">&lt;p&gt;As much as fun as redoing work is, its not going to happen on this one. Check out virt-manager's screenshot walkthrough on installing machines via virt-manager. Its actually just a wizard that walks you through the install. It really just takes playing around with to discover all the cool stuff you can do with it, like adding virtual networks, adding multiple virtual hard disks, adding virtual cd-rom drives, etc. &lt;/p&gt;
&lt;p&gt;&lt;a href="http://virt-manager.et.redhat.com/screenshots/install.html"&gt;http://virt-manager.et.redhat.com/screenshots/install.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Definitely want to be familiar with this app in general though. As you study for the exam, this is great for spinning up machines for practice. Of course you have to be running a linux distro as your main OS, but who isn't right? ;-)&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>List and identify SELinux file and process context</title><link href="http://rhce.co/list-and-identify-selinux-file-and-process-context.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:list-and-identify-selinux-file-and-process-context.html</id><summary type="html">&lt;p&gt;Listing and identifying SELinux context is really simple. You pretty much just add -Z to your query to display SELinux specific info along with your normal file attributes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ps -Z
LABEL                             PID TTY          TIME CMD
unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 15802 pts/21 00:00:00 bash
unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 15908 pts/21 00:00:00 ps

~&lt;span class="o"&gt;]&lt;/span&gt; ls -lZ
-rw-r--r--. root root system_u:object_r:httpd_config_t:s0 httpd.conf
-rw-r--r--. root root system_u:object_r:httpd_config_t:s0 magic
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will allow you to see what context is currently applied to the file, and troubleshoot from there if need be.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>List, create, delete and set partition type for primary, extended, and logical partitions</title><link href="http://rhce.co/list-create-delete-and-set-partition-type-for-primary-extended-and-logical-partitions.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:list-create-delete-and-set-partition-type-for-primary-extended-and-logical-partitions.html</id><summary type="html">&lt;p&gt;The official tool is now parted, but you can still use fdisk to create partitions. I'm a fan of fdisk, so thats what I will be using here. &lt;/p&gt;
&lt;h2&gt;&lt;b&gt;List partitions&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;To list all partitions that are on your server, you would issue the fdisk command, with the list switch.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;fdisk -l
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;Create new partitions&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;In order to create new partitions you would first have to open the device in fdisk. I will be opening /dev/sdb and creating both a primary and extended partition. We use the n command to create a new partition. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo fdisk /dev/sdb

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
p
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4, default 1&lt;span class="o"&gt;)&lt;/span&gt;: 1
First sector &lt;span class="o"&gt;(&lt;/span&gt;2048-8388607, default 2048&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 2048
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;2048-8388607, default 8388607&lt;span class="o"&gt;)&lt;/span&gt;: +250M

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

Disk /dev/sdb: 4294 MB, 4294967296 bytes
255 heads, 63 sectors/track, 522 cylinders, total 8388608 sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
Disk identifier: 0xd26a7e50

Device Boot      Start         End      Blocks   Id  System
/dev/sdb1            2048      514047      256000   83  Linux

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: n
Command action
e   extended
p   primary partition &lt;span class="o"&gt;(&lt;/span&gt;1-4&lt;span class="o"&gt;)&lt;/span&gt;
e
Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-4, default 2&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 2
First sector &lt;span class="o"&gt;(&lt;/span&gt;514048-8388607, default 514048&lt;span class="o"&gt;)&lt;/span&gt;: 
Using default value 514048
Last sector, +sectors or +size&lt;span class="o"&gt;{&lt;/span&gt;K,M,G&lt;span class="o"&gt;}&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;514048-8388607, default 8388607&lt;span class="o"&gt;)&lt;/span&gt;: +500M

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo partprobe
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;Delete partitions&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;Deleting partitions is even easier. You would just type d at the fdisk prompt, tell it which partition number you are deleting, and the write the changes with the w flag. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo fdisk /dev/sdb

 Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

 Disk /dev/sdb: 4294 MB, 4294967296 bytes
 255 heads, 63 sectors/track, 522 cylinders, total 8388608 sectors
 &lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
 Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
 I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
 Disk identifier: 0x08bafe2e

   Device Boot      Start         End      Blocks   Id  System
 /dev/sdb1            2048     1026047      512000   83  Linux
 /dev/sdb2         1026048     1538047      256000    5  Extended

 Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: d
 Partition number &lt;span class="o"&gt;(&lt;/span&gt;1-5&lt;span class="o"&gt;)&lt;/span&gt;: 2

 Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: p

 Disk /dev/sdb: 4294 MB, 4294967296 bytes
 255 heads, 63 sectors/track, 522 cylinders, total 8388608 sectors
 &lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of 1 * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; 512 bytes
 Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
 I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: 512 bytes / 512 bytes
 Disk identifier: 0x08bafe2e

   Device Boot      Start         End      Blocks   Id  System
 /dev/sdb1            2048     1026047      512000   83  Linux

 Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
 The partition table has been altered!

 Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
 Syncing disks.
 &lt;span class="nv"&gt;$ &lt;/span&gt;sudo partprobe
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;Set partition type&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;In order to use the disk we have to set a partition type. In this case we just make it a general Linux format #83. If it were going to be part of a raid array, we would make it Linux raid auto, #fd.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;fdisk /dev/sdb

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: t
Selected partition 1
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: L

0  Empty           24  NEC DOS         81  Minix / old Lin bf  Solaris        
1  FAT12           27  Hidden NTFS Win 82  Linux swap / So c1  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
2  XENIX root      39  Plan 9          83  Linux           c4  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
3  XENIX usr       3c  PartitionMagic  84  OS/2 hidden C:  c6  DRDOS/sec &lt;span class="o"&gt;(&lt;/span&gt;FAT-
4  FAT16 &amp;lt;32M      40  Venix 80286     85  Linux extended  c7  Syrinx         
5  Extended        41  PPC PReP Boot   86  NTFS volume &lt;span class="nb"&gt;set &lt;/span&gt;da  Non-FS data    
6  FAT16           42  SFS             87  NTFS volume &lt;span class="nb"&gt;set &lt;/span&gt;db  CP/M / CTOS / .
7  HPFS/NTFS/exFAT 4d  QNX4.x          88  Linux plaintext de  Dell Utility   
8  AIX             4e  QNX4.x 2nd part 8e  Linux LVM       df  BootIt         
9  AIX bootable    4f  QNX4.x 3rd part 93  Amoeba          e1  DOS access     
a  OS/2 Boot Manag 50  OnTrack DM      94  Amoeba BBT      e3  DOS R/O        
b  W95 FAT32       51  OnTrack DM6 Aux 9f  BSD/OS          e4  SpeedStor      
c  W95 FAT32 &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 52  CP/M            a0  IBM Thinkpad hi eb  BeOS fs        
e  W95 FAT16 &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 53  OnTrack DM6 Aux a5  FreeBSD         ee  GPT            
f  W95 Ext&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;d &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt; 54  OnTrackDM6      a6  OpenBSD         ef  EFI &lt;span class="o"&gt;(&lt;/span&gt;FAT-12/16/
10  OPUS            55  EZ-Drive        a7  NeXTSTEP        f0  Linux/PA-RISC b
11  Hidden FAT12    56  Golden Bow      a8  Darwin UFS      f1  SpeedStor      
12  Compaq diagnost 5c  Priam Edisk     a9  NetBSD          f4  SpeedStor      
14  Hidden FAT16 &amp;lt;3 61  SpeedStor       ab  Darwin boot     f2  DOS secondary  
16  Hidden FAT16    63  GNU HURD or Sys af  HFS / HFS+      fb  VMware VMFS    
17  Hidden HPFS/NTF 64  Novell Netware  b7  BSDI fs         &lt;span class="nb"&gt;fc  &lt;/span&gt;VMware VMKCORE 
18  AST SmartSleep  65  Novell Netware  b8  BSDI swap       fd  Linux raid auto
1b  Hidden W95 FAT3 70  DiskSecure Mult bb  Boot Wizard hid fe  LANstep        
1c  Hidden W95 FAT3 75  PC/IX           be  Solaris boot    ff  BBT            
1e  Hidden W95 FAT1 80  Old Minix      
Hex code &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;L to list codes&lt;span class="o"&gt;)&lt;/span&gt;: 83

Command &lt;span class="o"&gt;(&lt;/span&gt;m &lt;span class="k"&gt;for &lt;/span&gt;&lt;span class="nb"&gt;help&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;: w
The partition table has been altered!

Calling ioctl&lt;span class="o"&gt;()&lt;/span&gt; to re-read partition table.
Syncing disks.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Redhat actually encourages the use of parted nowadays, with works a little differently. To see information about that, see this link &lt;a href="http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/s1-disk-storage-parted.html"&gt;http://docs.redhat.com/docs/en-US/Red_Hat_Enterprise_Linux/6/html/Storage_Administration_Guide/s1-disk-storage-parted.html&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Locate and interpret system log files</title><link href="http://rhce.co/locate-and-interpret-system-log-files.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:locate-and-interpret-system-log-files.html</id><summary type="html">&lt;p&gt;Most of the logs you will deal with are going to be located in /var/log/. There are some exceptions to this, such as apache vhosts. Many people write the logs for a specific virtual host in a folder with the web content. &lt;/p&gt;
&lt;p&gt;Aside from the occasional exception, this is the spot. &lt;/p&gt;
&lt;p&gt;Logs are written in a way that makes them easy to parse through with text processing tools like cat, grep, and awk.&lt;/p&gt;
&lt;p&gt;One example would be searching for Failed logins in /var/log/secure &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;cat /var/log/messages | grep Failed | less
Apr  1 16:17:06 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19632&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;root from 84.204.56.234 port 39045 ssh2
Apr  1 16:17:09 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19634&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;root from 84.204.56.234 port 39351 ssh2
Apr  1 16:17:13 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19636&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;root from 84.204.56.234 port 39660 ssh2
Apr  1 22:13:40 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19741&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 53407 ssh2
Apr  1 22:13:43 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19744&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 40100 ssh2
Apr  1 22:13:46 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19747&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 51759 ssh2
Apr  1 22:13:49 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19749&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 45675 ssh2
Apr  1 22:13:52 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19751&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 54379 ssh2
Apr  1 22:13:55 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;19753&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;bin from 200.76.17.194 port 12218 ssh2
Apr  2 06:05:01 mytest sshd&lt;span class="o"&gt;[&lt;/span&gt;20102&lt;span class="o"&gt;]&lt;/span&gt;: Failed password &lt;span class="k"&gt;for &lt;/span&gt;root from 117.211.83.59 port 34815 ssh2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;By using the cat command we are able to read all contents of the file, but thats a lot of stuff. We only want to see Failed logins. We then pipe the result of cat, into grep and process the text there. Grep picks out any line that contains Failed. I then piped it to less to output only the last 10 lines.So now you can see all these failed password attempts on our test server. Wow. &lt;/p&gt;
&lt;p&gt;Lets say we just want to process the text, and get a count of how many logins were failed in this file. We can pipe the output into wc -l, which counts lines. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;cat /var/log/messages | grep Failed | wc -l
90
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thats a lot of failed logins. That lets us know we should probably tighten up our security a bit, maybe change the port for ssh. Thats something that is covered down the road though. But you can see the value in combining text processing utilities in order to get a clean final result. &lt;/p&gt;
&lt;p&gt;Some key tools to look at are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;cat  - http://man.he.net/man1/cat&lt;/li&gt;
&lt;li&gt;tail - http://man.he.net/man1/tail&lt;/li&gt;
&lt;li&gt;head - http://linux.die.net/man/1/head&lt;/li&gt;
&lt;li&gt;wc   - http://linux.die.net/man/1/wc&lt;/li&gt;
&lt;li&gt;less - http://linux.die.net/man/1/less&lt;/li&gt;
&lt;li&gt;more - http://linux.die.net/man/1/more&lt;/li&gt;
&lt;li&gt;grep - http://linux.die.net/man/1/grep&lt;/li&gt;
&lt;li&gt;awk  - http://linux.die.net/man/1/awk&lt;/li&gt;
&lt;li&gt;sed  - http://linux.die.net/man/1/sed&lt;/li&gt;
&lt;/ul&gt;</summary><category term="RHCSA"></category></entry><entry><title>Modify the system bootloader</title><link href="http://rhce.co/modify-the-system-bootloader.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:modify-the-system-bootloader.html</id><summary type="html">&lt;p&gt;Here they are referring to the default bootloader, GRUB (GRand Unified Bootloader). The configuration file for GRUB can be found at /boot/grub/grub.conf and looks like this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# grub.conf generated by anaconda&lt;/span&gt;
&lt;span class="c"&gt;#&lt;/span&gt;
&lt;span class="c"&gt;# Note that you do not have to rerun grub after making changes to this file&lt;/span&gt;
&lt;span class="c"&gt;# NOTICE:  You have a /boot partition.  This means that&lt;/span&gt;
&lt;span class="c"&gt;#          all kernel and initrd paths are relative to /boot/, eg.&lt;/span&gt;
&lt;span class="c"&gt;#          root (hd0,1)&lt;/span&gt;
&lt;span class="c"&gt;#          kernel /vmlinuz-version ro root=/dev/sdb3&lt;/span&gt;
&lt;span class="c"&gt;#          initrd /initrd-[generic-]version.img&lt;/span&gt;
&lt;span class="c"&gt;#boot=/dev/sdb&lt;/span&gt;
&lt;span class="nv"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0
&lt;span class="nv"&gt;timeout&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;5
&lt;span class="nv"&gt;splashimage&lt;/span&gt;&lt;span class="o"&gt;=(&lt;/span&gt;hd0,1&lt;span class="o"&gt;)&lt;/span&gt;/grub/splash.xpm.gz
hiddenmenu
title Red Hat Enterprise Linux &lt;span class="o"&gt;(&lt;/span&gt;2.6.32-71.el6.i686&lt;span class="o"&gt;)&lt;/span&gt; 
  root &lt;span class="o"&gt;(&lt;/span&gt;hd0,1&lt;span class="o"&gt;)&lt;/span&gt;
  kernel /vmlinuz-2.6.32-71.el6.i686 ro &lt;span class="nv"&gt;root&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;UUID&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0d96a842-0806-42fb-84af-2ae0676fd40d rd_NO_LUKS rd_NO_LVM rd_NO_MD rd_NO_DM &lt;span class="nv"&gt;LANG&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;en_US.UTF-8 &lt;span class="nv"&gt;SYSFONT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;latarcyrheb-sun16 &lt;span class="nv"&gt;KEYBOARDTYPE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;pc &lt;span class="nv"&gt;KEYTABLE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;us &lt;span class="nv"&gt;crashkernel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;auto rhgb quiet
  initrd /initramfs-2.6.32-71.el6.i686.img
title Windows 7
  rootnoverify &lt;span class="o"&gt;(&lt;/span&gt;hd0,0&lt;span class="o"&gt;)&lt;/span&gt;
  chainloader +1
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Most likely the change that you will be administering is boot order or timeout. Its always good to have a little bit of a timeout, in case you really hose your install with a kernel upgrade, ram disk, etc. This gives you that time (in seconds) to choose the old kernel and/or modify boot options.&lt;/p&gt;
&lt;p&gt;In the example above, there are two entries, one for RHEL 6 and one for WIN 7. GRUB gives you the option at boot time as to which one you would like to boot into, and also reads from the "default=" line for automatic boot. To make WIN 7 boot automatically, well, change default from 0 to 1.&lt;/p&gt;
&lt;p&gt;I always make a backup before messing with this thing, that way if you have to boot into rescue, you can restore your backup and reboot. Never hurts to backup these things beforehand...&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Mount and unmount CIFS and NFS network file systems</title><link href="http://rhce.co/mount-and-unmount-cifs-and-nfs-network-file-systems.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:mount-and-unmount-cifs-and-nfs-network-file-systems.html</id><summary type="html">&lt;p&gt;Mounting network shares of type NFS and CIFS on Red Hat Enterprise Linux 6 is done with the mount command.&lt;/p&gt;
&lt;h1&gt;Mount CIFS share&lt;/h1&gt;
&lt;p&gt;Mounting samba/windows shares requires the -t cifs option followed by the //server:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -t cifs //server/share /mnt --verbose -o &lt;span class="nv"&gt;user&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;username
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Unmount CIFS share&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; umount /mnt
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Mount NFS share&lt;/h1&gt;
&lt;p&gt;Mounting a nfs share would be done with the -t nfs option, followed but the server:/mount &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -o rw -t nfs hostname:/mountpoint /mnt
&lt;/pre&gt;&lt;/div&gt;


&lt;h1&gt;Unmount NFS share&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; umount /mnt
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Mount, unmount and use LUKS-encrypted file systems</title><link href="http://rhce.co/mount-unmount-and-use-luks-encrypted-file-systems.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:mount-unmount-and-use-luks-encrypted-file-systems.html</id><summary type="html">&lt;p&gt;To create a luks encrypted partition you would use the cryptsetup luksFormat command.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; cryptsetup luksFormat /dev/sdc1

WARNING!
&lt;span class="o"&gt;========&lt;/span&gt;
This will overwrite data on /dev/sdc1 irrevocably.

Are you sure? &lt;span class="o"&gt;(&lt;/span&gt;Type uppercase yes&lt;span class="o"&gt;)&lt;/span&gt;: YES
Enter LUKS passphrase: 
Verify passphrase:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Once the partition is encrypted with a password, it needs to be opened with the password in order to be used. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; cryptsetup luksOpen /dev/sdc1 newlukspart
Enter passphrase &lt;span class="k"&gt;for&lt;/span&gt; /dev/sdc1:
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create a ext4 filesystem on the partition.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkfs.ext4 /dev/mapper/newlukspart 
mke2fs 1.41.12 &lt;span class="o"&gt;(&lt;/span&gt;17-May-2010&lt;span class="o"&gt;)&lt;/span&gt;
Filesystem &lt;span class="nv"&gt;label&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;
OS &lt;span class="nb"&gt;type&lt;/span&gt;: Linux
Block &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
Fragment &lt;span class="nv"&gt;size&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1024 &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;log&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0&lt;span class="o"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;Stride&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks, Stripe &lt;span class="nv"&gt;width&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;0 blocks
63488 inodes, 253952 blocks
12697 blocks &lt;span class="o"&gt;(&lt;/span&gt;5.00%&lt;span class="o"&gt;)&lt;/span&gt; reserved &lt;span class="k"&gt;for &lt;/span&gt;the super user
First data &lt;span class="nv"&gt;block&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;1
Maximum filesystem &lt;span class="nv"&gt;blocks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;67371008
31 block groups
8192 blocks per group, 8192 fragments per group
2048 inodes per group
Superblock backups stored on blocks: 
8193, 24577, 40961, 57345, 73729, 204801, 221185

Writing inode tables: &lt;span class="k"&gt;done                            &lt;/span&gt;
Creating journal &lt;span class="o"&gt;(&lt;/span&gt;4096 blocks&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="k"&gt;done&lt;/span&gt;
Writing superblocks and filesystem accounting information: &lt;span class="k"&gt;done&lt;/span&gt;

This filesystem will be automatically checked every 29 mounts or
180 days, whichever comes first.  Use tune2fs -c or -i to override.
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Create the mount point and mount read/write on that mount point.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mkdir /lukspart

~&lt;span class="o"&gt;]&lt;/span&gt; mount -o rw -t ext4 /dev/mapper/newlukspart /lukspart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Check that the partition is mounted. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; mount -l
... output omitted... 
/dev/mapper/newlukspart on /lukspart &lt;span class="nb"&gt;type &lt;/span&gt;ext4 &lt;span class="o"&gt;(&lt;/span&gt;rw&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Finally the command to unmount the partition would just be umount. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; umount /lukspart
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Restore default file contexts</title><link href="http://rhce.co/restore-default-file-contexts.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:restore-default-file-contexts.html</id><summary type="html">&lt;h1&gt;Restore default file contexts&lt;/h1&gt;
&lt;p&gt;If any files are added to say, /www/testsite/, and you are running SELinux in enforcing mode, then you will likely have an issue when trying to serve them via Apache. This is because their SELinux file context is not that of &lt;code&gt;httpd_sys_content_t&lt;/code&gt; in that custom directory. SELinux is strict in that nature, and requires that you apply the proper context before it will allow Apache to use them.&lt;/p&gt;
&lt;p&gt;The easiest thing to do is reference the man pages for specific syntax. I'll use the example of restoring context to files added into a directory that will be used by apache, but isnt the default system directory. I copied an index.html file into /www/testsite&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; ls -laZ /www/testsite/
-rw-r--r--. root      root      unconfined_u:object_r:default_t:s0 index.html
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can see this file has a generic file context. When running in "Enforcing", SELinux will throw permission errors if this page is served via apache. To set proper file contexts, semanage is the tool to use. &lt;/p&gt;
&lt;p&gt;&lt;em&gt;Tip: "man -k _selinux" will show you the man pages for the main applications you will be using, ftpd, httpd, etc. There are good examples in there&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;First we set context of the directory...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; semanage fcontext -a -t httpd_sys_content_t &lt;span class="s2"&gt;&amp;quot;/www/testsite(/.*)?&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Next we restore context recursively...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; restorecon -F -R -v /www/testsite
restorecon reset /www/testsite context unconfined_u:object_r:default_t:s0-&amp;gt;system_u:object_r:httpd_sys_content_t:s0
restorecon reset /www/testsite/index.html context unconfined_u:object_r:default_t:s0-&amp;gt;system_u:object_r:httpd_sys_content_t:s0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now Apache will have no problem serving files from that directory, because SELinux will be happy with the context. &lt;/p&gt;
&lt;p&gt;NOTE: If this didnt happen, and you got an error that semanage isnt found, then you didnt install the package that provides this tool.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; yum install policycoreutils-python
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Make sure you remember this, it could kill your ability to properly perform SELinux tasks on an exam!&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Schedule tasks using cron</title><link href="http://rhce.co/schedule-tasks-using-cron.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:schedule-tasks-using-cron.html</id><summary type="html">&lt;p&gt;Cron is a utility used to schedule tasks to run at a certain time on various intervals. First is to make sure its installed, although it is installed by default on a normal installation. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;~&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="n"&gt;rpm&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qa&lt;/span&gt; &lt;span class="o"&gt;|&lt;/span&gt; &lt;span class="n"&gt;grep&lt;/span&gt; &lt;span class="n"&gt;cron&lt;/span&gt;
&lt;span class="n"&gt;cronie&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.4.4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="n"&gt;el6&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x86_64&lt;/span&gt;
&lt;span class="n"&gt;cronie&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;anacron&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;1.4.4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.&lt;/span&gt;&lt;span class="n"&gt;el6&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x86_64&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The easiest way to get guidance on how to use a utility is to use the man page. In this case the proper documentation is kind of hidden. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; man 5 crontab
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This page lays out the options for cron, why its not found by simply using "man cron" is beyond me, but its not. &lt;/p&gt;
&lt;p&gt;The format for this goes as follows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;*&lt;/span&gt;    &lt;span class="o"&gt;*&lt;/span&gt;    &lt;span class="o"&gt;*&lt;/span&gt;    &lt;span class="o"&gt;*&lt;/span&gt;    &lt;span class="o"&gt;*&lt;/span&gt;  &lt;span class="n"&gt;command&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;be&lt;/span&gt; &lt;span class="n"&gt;executed&lt;/span&gt;
&lt;span class="o"&gt;-&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;    &lt;span class="o"&gt;-&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;+-----&lt;/span&gt; &lt;span class="n"&gt;day&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;week&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;Sunday&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;+----------&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;+---------------&lt;/span&gt; &lt;span class="n"&gt;day&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;month&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;31&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;|&lt;/span&gt;    &lt;span class="o"&gt;+--------------------&lt;/span&gt; &lt;span class="n"&gt;hour&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;23&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="o"&gt;+-------------------------&lt;/span&gt; &lt;span class="n"&gt;min&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="mi"&gt;59&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;An example of a cron job would be configuring a job to run every day on minute 0 hour 12 daily, or daily at 12:00pm. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="mi"&gt;12&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;echo&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;some job&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Another example would be to run a job weekly at 3:30pm on Sunday&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="mi"&gt;30&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;echo&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;another job&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;echo&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Set enforcing and permissive modes for SELinux</title><link href="http://rhce.co/set-enforcing-and-permissive-modes-for-selinux.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:set-enforcing-and-permissive-modes-for-selinux.html</id><summary type="html">&lt;p&gt;With SELinux being part of the exams now, this is important. Knowing how to change modes and detect mode in SELinux is key.&lt;/p&gt;
&lt;p&gt;To check the current SELinux mode&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  getenforce
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To set the SELinux mode to 0 (does not persist through a reboot)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  setenforce 0
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To change mode persistently&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt;  vim /etc/selinux/config
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;change to desired value: disabled, permissive, enforcing&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;SELINUX&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;disabled&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;{: .note }&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Keep in mind that, after editing &lt;em&gt;/etc/selinux/config&lt;/em&gt; changes will be applied after system reboot.&lt;/p&gt;
&lt;/blockquote&gt;</summary><category term="RHCSA"></category></entry><entry><title>Start and stop virtual machines</title><link href="http://rhce.co/start-and-stop-virtual-machines.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:start-and-stop-virtual-machines.html</id><summary type="html">&lt;p&gt;Starting and stopping virtual machines is just like starting and stopping real machines. &lt;/p&gt;
&lt;p&gt;The only main difference, is that you can start and stop them right from the . &lt;a href="http://virt-manager.et.redhat.com/index.html"&gt;Virtual Machine Manager&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;The Red Hat Enterprise Linux 6 Virtual Machine Manager has a fairly intuitive graphical user interface, with obvious start and stop buttons for each machine. If you haven't used it at all, It would be good to download a trial copy of Red Hat, to get an idea of how to navigate the program.&lt;/p&gt;
&lt;p&gt;You can see in the screenshot the Run, Pause, and Shutdown buttons. &lt;/p&gt;
&lt;p&gt;&lt;img alt="http://virt-manager.et.redhat.com/screenshots/guest-performance.png" src="http://virt-manager.et.redhat.com/screenshots/guest-performance.png" /&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Start, stop and check the status of network services</title><link href="http://rhce.co/start-stop-and-check-the-status-of-network-services.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:start-stop-and-check-the-status-of-network-services.html</id><summary type="html">&lt;p&gt;There are a few things to consider when dealing with network services:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;You want to make sure the service is running, if not start it. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You want to be able to restart the service, to reload a config file that you may have changed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You want to have the ability to turn the service off, if you don't plan on using it. &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Also, you need to be able to set the service up to start on boot, or vise versa.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Service management takes place with the service command. Go figure. &lt;/p&gt;
&lt;p&gt;To start the httpd service, you would type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/service httpd start
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To stop it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/service httpd stop
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To restart it:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/service httpd restart
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To reload it (refresh configs without stopping and starting):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/service httpd reload
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;How do you know what services you can do that with? Well that can be listed with the tool that will handing startup programs. chkconfig.&lt;/p&gt;
&lt;p&gt;chkconfig is used to manage what runlevel a program with automatically start or get killed in. To list all your services you would just type&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/chkconfig --list
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Thats a big list. But you get the idea, you can see how they are either on or off in each runlevel. To narrow down the list we can use grep to process the list and filter out say, our httpd service.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/chkconfig --list | grep httpd
httpd              0:off   1:off   2:on    3:on    4:on    5:on    6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So we can see that in runlevels 2-5 we have httpd on in. If that were not the case, and my server rebooted, when it came back up all my sites would be disabled, until I manually went in and started the service. &lt;/p&gt;
&lt;p&gt;To change the values of that you would just run chkconfig followed by the service and whether you want to on or off in the main runlevels. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/chkconfig httpd on
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;You can actually control what runlevels you want the service on in as well by adding the --level switch followed by the runlevels. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/chkconfig --level 45 httpd off
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo /sbin/chkconfig --list | grep httpd
httpd           0:off   1:off   2:on    3:on    4:off   5:off   6:off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;I turned off the httpd service for runlevel 4 and 5 there.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Update the kernel package appropriately to ensure a bootable system</title><link href="http://rhce.co/update-the-kernel-package-appropriately-to-ensure-a-bootable-system.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:update-the-kernel-package-appropriately-to-ensure-a-bootable-system.html</id><summary type="html">&lt;p&gt;Updating the kernel package in Red Hat Enterprise Linux 6 is easy, and as long as you update it with YUM, most everything is handled for you. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; yum update kernel
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This should update the kernel, and update the &lt;code&gt;/boot/grub/grub.conf&lt;/code&gt; file as well, to add the new kernel as the default kernel at boot time. We can verify this by checking the grub.conf before and after. You will notice that there is one more entry after the upgrade, and that it makes it the default. This also allows us to boot into an older kernel should we need to, at boot time.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Use boolean settings to modify system SELinux settings</title><link href="http://rhce.co/use-boolean-settings-to-modify-system-selinux-settings.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:use-boolean-settings-to-modify-system-selinux-settings.html</id><summary type="html">&lt;p&gt;As stated in the man page "Policy booleans enable runtime customization of SELinux policy." Booleans consist of a number of config items, that can either be on or off.&lt;/p&gt;
&lt;p&gt;Easiest way to see the booleans currently set:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; getsebool -a
&lt;span class="c"&gt;# ... long list&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If I wanted to see booleans associated with httpd, I could just grep through that.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; getsebool -a | grep httpd
allow_httpd_anon_write --&amp;gt; off
allow_httpd_mod_auth_ntlm_winbind --&amp;gt; off
httpd_enable_cgi --&amp;gt; on
....
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To change a boolean setting, setsebool would be the command to use. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; setsebool -P httpd_enable_cgi off
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Notice the -P we add in there, that is to make the change persistant across a reboot. -P causes the boolean to be written into the policy file, as opposed to just being changed in memory.&lt;/p&gt;
&lt;p&gt;Another cool boolean command is togglesebool, which just toggles the boolean, active / inactive.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; togglesebool httpd_enable_cgi
httpd_enable_cgi: active
&lt;span class="c"&gt;# togglesebool httpd_enable_cgi&lt;/span&gt;
httpd_enable_cgi: inactive
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;So remember, if you are having issues with SELinux blocking applications like Apache, and all the file contexts are correct, you would next want to look at booleans.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Use grep and regular expressions to analyze text</title><link href="http://rhce.co/use-grep-and-regular-expressions-to-analyze-text.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:use-grep-and-regular-expressions-to-analyze-text.html</id><summary type="html">&lt;p&gt;RHCSA requirements state that you must know how to use grep to analyze text. This is actually going to be pretty necessary to do many administration tasks on a daily basis.&lt;/p&gt;
&lt;p&gt;Grep returns any lines that have characters, words, or expressions that match your query.&lt;/p&gt;
&lt;p&gt;Basic usage examples of this include:&lt;/p&gt;
&lt;p&gt;Find "Permission Denied" entries in a log file&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;grep -r &lt;span class="s2"&gt;&amp;quot;Permission Denied&amp;quot;&lt;/span&gt; /path/to/logfile/
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Find "Permission Denied" entries in a log file by using output redirection&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;cat /path/to/file/ | grep &lt;span class="s2"&gt;&amp;quot;Permission Denied&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Check out some grep examples at : http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/[http://www.thegeekstuff.com/2009/03/15-practical-unix-grep-command-examples/]&lt;/p&gt;
&lt;p&gt;To see all the options check out the Unix Man page, http://unixhelp.ed.ac.uk/CGI/man-cgi?grep[http://unixhelp.ed.ac.uk/CGI/man-cgi?grep] also available by just plain typing &lt;code&gt;man grep&lt;/code&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Use shell scripting to automate system maintenance tasks</title><link href="http://rhce.co/use-shell-scripting-to-automate-system-maintenance-tasks.html" rel="alternate"></link><updated>2012-10-06T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-06:use-shell-scripting-to-automate-system-maintenance-tasks.html</id><summary type="html">&lt;p&gt;It is important to be familiar with basic bash scripting. Some commands were covered in the RHCSA portion, however writing scripts was not. Lets look at writing some basic scripts.&lt;/p&gt;
&lt;p&gt;The most important thing we need to start with is our shebang:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#!/bin/bash&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The shebang is used to invoke the proper interpreter. You can read more about the shebang itself here: http://en.wikipedia.org/wiki/Shebang_%28Unix%29 for now however, we're not going to discuss it further. Just make sure it's at the top of your shell script.&lt;/p&gt;
&lt;p&gt;As with most scripting languages, a key concept to understand is variables. This is no difference in bash scripting, lets look at an example of a variable, how to assign a value, and how to return that value using echo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;~&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nv"&gt;OPERATINGSYSTEM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;rhel6
~&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$OPERATINGSYSTEM&lt;/span&gt;
rhel6
~&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nb"&gt;echo &lt;/span&gt;OPERATINGSYSTEM
OPERATINGSYSTEM
~&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nv"&gt;os&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;rhel6
~&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$os&lt;/span&gt;
rhel6
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see, we've declared our variable, and given it a value, and returned that value. Notice we needed the $ to ensure that it was referenced as a variable. If you don't use $NAME the interpreter will just use the literal value of whatever the variable's name is, which is bad news. Additionally you can see that the case of the variable doesn't matter. Obviously you should practice good variable naming conventions, but that won't be covered here.&lt;/p&gt;
&lt;p&gt;While we're discussing the use of echo, lets review the use of quoting,&lt;/p&gt;</summary><category term="RHCE"></category></entry><entry><title>List, set and change standard ugo/rwx permissions</title><link href="http://rhce.co/list-set-and-change-standard-ugorwx-permissions.html" rel="alternate"></link><updated>2012-10-05T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-05:list-set-and-change-standard-ugorwx-permissions.html</id><summary type="html">&lt;p&gt;Permissions rule on compooters. Controlling them, essential. Linux has a number of different tools to do this, we list the essentials for the exam here.&lt;/p&gt;
&lt;h2&gt;&lt;b&gt;ls&lt;/b&gt;&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# this is one of the most common commands used when probing a filesystem.&lt;/span&gt;
&lt;span class="c"&gt;# ls lists the files in a directory, and the -l switch shows permissions, &lt;/span&gt;
&lt;span class="c"&gt;# ownership, size, and date modified &lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-------. 1 root root  1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 root root 15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root root  5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;chmod&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;Permissions are as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1 execute&lt;/li&gt;
&lt;li&gt;2 write&lt;/li&gt;
&lt;li&gt;4 read&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;..or in letter format&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;x execute&lt;/li&gt;
&lt;li&gt;w write&lt;/li&gt;
&lt;li&gt;r read&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;{: .note }&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;note: the first bit is reserved for type, files are -, directories are d, links are l&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For example, to change all three above files to 777 or readable, writable, and executable by all:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# chmod changes permission bits, either with numeric or letter permission options.&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chmod 777 ./*&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rwxrwxrwx. 1 root root  1403 Mar 21 15:40 anaconda-ks.cfg
-rwxrwxrwx. 1 root root 15932 Mar 21 15:39 install.log
-rwxrwxrwx. 1 root root  5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;A more reasonable permissions set would be to allow others to read files, but only allow the owner to read, write, and execute. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chmod 644 ./*&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 root root  1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 root root 15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root root  5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Directories usually have a similar permissions set. They allow owner to rwx, but everyone else to rx. 755 would be the numerical value. &lt;/p&gt;
&lt;p&gt;&lt;em&gt;If directories are not executable, you cannot change into them with cd. cd essentially executes itself on the directory when you use it.&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;If we want to use the letter format as opposed to numbers. we combine the ugo/rwx to apply permissions. To give the group permissions to execute install.log we combine g+x:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chmod g+x install.log&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 nobody nobody  1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r-xr--. 1 david  root   15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root   david   5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;chown&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;chown is used to change ownership of files and directories. &lt;/p&gt;
&lt;p&gt;Using the same group of files, we can change the owner from root to david on install.log.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chown david.david install.log&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 root  root   1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 david david 15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root  root   5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;We can also change just group on a file, to allow the group certain permissions. Here we change install.log.syslog to be owned by group david, but still owner is root.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chown root.david install.log.syslog &lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 root  root   1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 david david 15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root  david  5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If we don't want anyone to see have access, we could change it to a user like nobody. In this case, everyone would be able to read it, but nobody could write and execute anaconda-ks.config.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chown nobody.nobody anaconda-ks.cfg &lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 nobody nobody  1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 david  david  15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root   david   5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;


&lt;h2&gt;&lt;b&gt;chgrp&lt;/b&gt;&lt;/h2&gt;
&lt;p&gt;chgrp does the same thing as chown does, except it only changes the group. Handy if you just want to apply group permissions to a group of files that have various owners. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# chgrp root install.log&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls -l&lt;/span&gt;
total 28
-rw-r--r--. 1 nobody nobody  1403 Mar 21 15:40 anaconda-ks.cfg
-rw-r--r--. 1 david  root   15932 Mar 21 15:39 install.log
-rw-r--r--. 1 root   david   5337 Mar 21 15:37 install.log.syslog
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Locate, read and use system documentation including man, info, and files in /usr/share/doc</title><link href="http://rhce.co/locate-read-and-use-system-documentation-including-man-info-and-files-in-usrsharedoc.html" rel="alternate"></link><updated>2012-10-05T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-05:locate-read-and-use-system-documentation-including-man-info-and-files-in-usrsharedoc.html</id><summary type="html">&lt;p&gt;Man pages, docs, and info are all saving graces on the exams. &lt;/p&gt;
&lt;p&gt;The most commonly used help pages are &lt;strong&gt;man pages&lt;/strong&gt;. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;man vim
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This will give you the manual pages, with descriptions of the options, examples, and information about the application. If you don't remember exactly what man page you need, but you know what utility you are trying to use you can search man pages. &lt;/p&gt;
&lt;p&gt;For example, lets find all man pages relating to LVM.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# man -k lvm&lt;/span&gt;
README.vmesa &lt;span class="o"&gt;[&lt;/span&gt;perlvmesa&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;1&lt;span class="o"&gt;)&lt;/span&gt;  - building and installing Perl &lt;span class="k"&gt;for &lt;/span&gt;VM/ESA
lvm                  &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - LVM2 tools
lvm.conf &lt;span class="o"&gt;[&lt;/span&gt;lvm&lt;span class="o"&gt;]&lt;/span&gt;       &lt;span class="o"&gt;(&lt;/span&gt;5&lt;span class="o"&gt;)&lt;/span&gt;  - Configuration file &lt;span class="k"&gt;for &lt;/span&gt;LVM2
lvmchange            &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - change attributes of the logical volume manager
lvmconf              &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - LVM configuration modifier
lvmdiskscan          &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - scan &lt;span class="k"&gt;for &lt;/span&gt;all devices visible to LVM2
lvmdump              &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - create lvm2 information dumps &lt;span class="k"&gt;for &lt;/span&gt;diagnostic purposes
lvmsadc              &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - LVM system activity data collector
lvmsar               &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - LVM system activity reporter
perlvms              &lt;span class="o"&gt;(&lt;/span&gt;1&lt;span class="o"&gt;)&lt;/span&gt;  - VMS-specific documentation &lt;span class="k"&gt;for &lt;/span&gt;Perl
pvcreate             &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - initialize a disk or partition &lt;span class="k"&gt;for &lt;/span&gt;use by LVM
pvresize             &lt;span class="o"&gt;(&lt;/span&gt;8&lt;span class="o"&gt;)&lt;/span&gt;  - resize a disk or partition in use by LVM2
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This is helpful output of results from the search. Really helpful in situations that you forgot the name of a certain utility.&lt;/p&gt;
&lt;p&gt;Info is nearly identical, referencing the info docs. Its not quite as nice to use, and therefore is not as popular. &lt;/p&gt;
&lt;p&gt;You could also get information from the /usr/share/docs. Here you can find other information about the program itself, or that particular version. The following output is a typical doc directory.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 yum-3.2.27&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# pwd&lt;/span&gt;
/usr/share/doc/yum-3.2.27
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 yum-3.2.27&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# ls&lt;/span&gt;
AUTHORS  ChangeLog  COPYING  INSTALL  README  TODO
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;As you can see its very different, simply text files with license, readme, install instructions, etc. For most of your referencing in an exam situation, use the man pages.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Exam tip: If you dont get any output from man pages, try running the following command, which will build the man pages.&lt;/em&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# first check for the package&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# rpm -qi man&lt;/span&gt;
&lt;span class="c"&gt;# then if its installed try&lt;/span&gt;
&lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# makewhatis &amp;amp;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Access remote systems using ssh and VNC</title><link href="http://rhce.co/access-remote-systems-using-ssh-and-vnc.html" rel="alternate"></link><updated>2012-10-04T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-04:access-remote-systems-using-ssh-and-vnc.html</id><summary type="html">&lt;h1&gt;SSH&lt;/h1&gt;
&lt;p&gt;Objective: Access remote systems using '''ssh''' and VNC&lt;/p&gt;
&lt;p&gt;SSH is such an integrated part of this exam that its kind of weird that this is one of the official requirements. But nonetheless there are a number of different options that you can apply to make you more efficient in exam. &lt;/p&gt;
&lt;p&gt;Basic ssh access is simple:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ssh user@host&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ssh to a custom port:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ssh -p port_number user@host&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ssh bringing X (required to run programs like system-config-users remotely)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ssh -X user@host&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;ssh as another user (another way)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ssh -l user host&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Display debugging messages as it connects. Useful if you have having some issues connecting to a certain machine.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;ssh -v user@host&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Those are the main options for ssh, as always "man ssh" to see all the other magic.&lt;/p&gt;
&lt;h1&gt;VNC&lt;/h1&gt;
&lt;p&gt;Objective: Access remote systems using ssh and '''VNC'''&lt;/p&gt;
&lt;p&gt;On the remote machine, that you will be connecting to, you should have tigervnc-server installed.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;yum install tigervnc-server &amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This puts a config file on your remote machine in /etc/sysconfig/vncservers&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;VNCSERVERS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;2:myusername&amp;quot;&lt;/span&gt;
VNCSERVERARGS&lt;span class="o"&gt;[&lt;/span&gt;2&lt;span class="o"&gt;]=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;-geometry 800x600 -nolisten tcp -nohttpd&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Aside from changing "username" you want it to look like this. All we did to change it, is remove the "-localhost" directive. This would have restricted us from connecting from a remote system without a tunnel setup. Since this is an exam and not the real world, we can disable that.&lt;/p&gt;
&lt;p&gt;Set up your password on the remote machine by running &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vncpasswd&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;And finally start your vncserver&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vncserver :1&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The output should look like this:&lt;br&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; &lt;span class="o"&gt;[&lt;/span&gt;root@rhel6 ~&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="c"&gt;# vncserver :1&lt;/span&gt;
 New &lt;span class="s1"&gt;&amp;#39;rhel6.local:1 (root)&amp;#39;&lt;/span&gt; desktop is rhel6.local:1&amp;lt;br&amp;gt;
 Starting applications specified in /root/.vnc/xstartup&amp;lt;br&amp;gt;
 Log file is /root/.vnc/rhel6.local:1.log
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;The default vnc client on Red Hat Enterprise Linux 6 is tigervnc. If it is not already installed on the system:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;yum install tigervnc&amp;lt;/code&amp;gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;To connect to the newly setup vncserver just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;vncviewer rhel6.local:5901
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;(replace rhel6.local with your remote host)&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Identify CPU/memory intensive processes, adjust process priority with renice, and kill processes</title><link href="http://rhce.co/identify-cpumemory-intensive-processes-adjust-process-priority-with-renice-and-kill-processes.html" rel="alternate"></link><updated>2012-10-04T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-04:identify-cpumemory-intensive-processes-adjust-process-priority-with-renice-and-kill-processes.html</id><summary type="html">&lt;p&gt;A few commands to help you identify processes on the exam are ps and top. These are commands that you will actually use extensively to monitor systems in the workplace. &lt;/p&gt;
&lt;h2&gt;ps - report a snapshot of the current processes.&lt;/h2&gt;
&lt;p&gt;ps helps you see what processes are being run, what files and commands they are being run with, who they are being run by, as well and their process ids. All the above items are crucial when troubleshooting issues on a Red Hat Enterprise Linux 6 system. &lt;/p&gt;
&lt;p&gt;a few good examples pulled from a man page:&lt;/p&gt;
&lt;p&gt;EXAMPLES&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# To see every process on the system using standard syntax:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -e
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -ef
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -eF
ps -ely

&lt;span class="c"&gt;# To see every process on the system using BSD syntax:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps ax
&lt;span class="nv"&gt;$ &lt;/span&gt;ps axu

&lt;span class="c"&gt;# To print a process tree:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -ejH
&lt;span class="nv"&gt;$ &lt;/span&gt;ps axjf

&lt;span class="c"&gt;# To get info about threads:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -eLf
&lt;span class="nv"&gt;$ &lt;/span&gt;ps axms

&lt;span class="c"&gt;# To get security info:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -eo euser,ruser,suser,fuser,f,comm,label
&lt;span class="nv"&gt;$ &lt;/span&gt;ps axZ
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -eM

&lt;span class="c"&gt;# To see every process running as root (real &amp;amp; effective ID) in user format:&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;ps -U root -u root u
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There is plenty of more info on this in the man pages as well as a plethoura of information on the web for ps. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;top - display Linux tasks
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;At its most basic usage you can just type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;top
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;There is a whole lot of options that go along with that command: "man top" to see them all.&lt;/p&gt;
&lt;h2&gt;renice  alter priority of running processes&lt;/h2&gt;
&lt;p&gt;As stated in the description, renice is a linux utility to change the priority of a process. This could obviously come in handy while trying to keep a process at bay. &lt;/p&gt;
&lt;p&gt;Example from the man page:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt; &lt;span class="n"&gt;renice&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;987&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;u&lt;/span&gt; &lt;span class="n"&gt;daemon&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;This would change the priority of process ID's 987 and 32, and all processes owned by users daemon and root.&lt;/p&gt;
&lt;p&gt;Man Page (http://linux.die.net/man/8/renice)[http://linux.die.net/man/8/renice]&lt;/p&gt;
&lt;h2&gt;kill - terminate a process&lt;/h2&gt;
&lt;p&gt;Like it states in the name, this kills processes. Once you have identified the process you would like to kill with top or ps, you would use the kill command to terminate that process. &lt;/p&gt;
&lt;p&gt;The most common implementation of this is:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# kill 2342&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;If that doesnt kill the process you would use the -9 switch, which will take out most any process. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# kill -9 2342&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;NOTE: The -9 command should be used with caution. Make sure you are killing the right pid, otherwise terrible things may transpire, especially on the RHCSA or the RHCE, where time is of concern.&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Log in and switch users in multi-user runlevels</title><link href="http://rhce.co/log-in-and-switch-users-in-multi-user-runlevels.html" rel="alternate"></link><updated>2012-10-04T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-04:log-in-and-switch-users-in-multi-user-runlevels.html</id><summary type="html">&lt;p&gt;If you have followed along to this point, you have logged in, and most likely been in either runlevel 3 or runlevel 5. Runlevels determine how much of the systems services are actually running. Most common runlevel for servers is going to be 3, most services that are not GUI oriented (including the Gnome Desktop) are turned off. Runlevel 5 is what you see when you boot into the desktop environment.&lt;/p&gt;
&lt;p&gt;Switching between these levels is fairly straightforward. To switch to runlevel 3 type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;init 3
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Then to see what runlevel you are in type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;runlevel
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Switching between users, also straightforward. To switch to bob, assuming bob is a user on the system:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;su - bob  &lt;span class="c"&gt;#note: We put the dash in there to gain the users login profile.&lt;/span&gt;
            &lt;span class="c"&gt;# So if I switched to root and didnt use the - operator, I wouldn&amp;#39;t have /usr/sbin in my path.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Switching to root is a common task.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;su -
&lt;/pre&gt;&lt;/div&gt;</summary><category term="RHCSA"></category></entry><entry><title>Use input-output redirection</title><link href="http://rhce.co/use-input-output-redirection.html" rel="alternate"></link><updated>2012-10-04T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-04:use-input-output-redirection.html</id><summary type="html">&lt;p&gt;Input output redirection is one of the base skills you will need as a sysadmin. On the exam you will have to be able to redirect data from one command into another, and/or into a file. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;this is input&amp;quot;&lt;/span&gt; &amp;gt; file.txt
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Another common example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;cat /var/log/messages | less
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Here are a couple of good tutorials already written on this:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://linuxhelp.blogspot.com/2006/01/inputoutput-redirection-made-simple-in.html"&gt;http://linuxhelp.blogspot.com/2006/01/inputoutput-redirection-made-simple-in.html&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://linuxcommand.org/lts0060.php"&gt;http://linuxcommand.org/lts0060.php&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.rwc.uc.edu/thomas/Intro_Unix_Text/IO_Redir_Pipes.html"&gt;http://www.rwc.uc.edu/thomas/Intro_Unix_Text/IO_Redir_Pipes.html&lt;/a&gt;&lt;/p&gt;</summary><category term="RHCSA"></category></entry><entry><title>Use single-user mode to gain access to a system</title><link href="http://rhce.co/use-single-user-mode-to-gain-access-to-a-system.html" rel="alternate"></link><updated>2012-10-04T00:00:00+02:00</updated><author><name>David Johansen</name></author><id>tag:rhce.co,2012-10-04:use-single-user-mode-to-gain-access-to-a-system.html</id><summary type="html">&lt;p&gt;Booting into single user mode is the easiest way to gain access to a Red Hat Enterprise Linux server. &lt;/p&gt;
&lt;p&gt;This is only feasible if you have access to the physical console, which you will on the RHCSA and RHCE exams. &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;At the beginning of the boot process you should see the grub menu pop up with a countdown and some kernel options (or perhaps just one option). &lt;/li&gt;
&lt;li&gt;It should be counting down at this point and says: "Press any key to enter the menu". In this case you would hit any key. &lt;/li&gt;
&lt;li&gt;At the bottom of the screen there is an explanation of the few options that are available to use on this page. One of these options is "e" for edit. Hit "e" to edit the boot kernel options. 
NOTE: (You can also use "a" for append, although they both accomplish the same thing.)&lt;/li&gt;
&lt;li&gt;You would now edit the main kernel options, adding either "single" or even just "1" at the end. Once you have completed that hit enter, the "b" for boot. &lt;/li&gt;
&lt;li&gt;You are now in single user mode, and be auto logged in as root. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;NOTE: for Red Hat Enterprise Linux 6.0 there is a bug that will prevent you from changing your root password in single user mode. This is a result of SELinux. For this situation you would want to temporarily disable SELinux.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# setenforce 0&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Now you should be allowed to change your root password.&lt;/p&gt;</summary><category term="RHCSA"></category></entry></feed>